<!DOCTYPE html>
<!-- saved from url=(0093)https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/ -->
<html lang="pt-br"><!--<![endif]--><head dir="ltr"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge"><script async="" src="./Design Recipes_files/branch-latest.min.js.download"></script><script type="text/javascript" async="" src="./Design Recipes_files/analytics.min.js.download"></script><script type="text/javascript">(window.NREUM||(NREUM={})).init={privacy:{cookies_enabled:true},ajax:{deny_list:["bam.nr-data.net"]}};(window.NREUM||(NREUM={})).loader_config={xpid:"XA4GVl5ACwAEV1JQAA==",licenseKey:"1beac94c95",applicationID:"3343327"};;(()=>{var e,t,r={9071:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var n=0,i=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);i&&(n=+i[1])},8768:(e,t,r)=>{"use strict";r.d(t,{T:()=>n,p:()=>i});const n=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),i=n&&Boolean("undefined"==typeof SharedWorker)},27:(e,t,r)=>{"use strict";r.d(t,{P_:()=>g,Mt:()=>v,C5:()=>d,DL:()=>y,OP:()=>C,lF:()=>k,Yu:()=>x,Dg:()=>p,CX:()=>f,GE:()=>w,sU:()=>N});var n={};r.r(n),r.d(n,{agent:()=>A,match:()=>D,version:()=>E});var i=r(6797),o=r(909),a=r(8610);class s{constructor(e,t){try{if(!e||"object"!=typeof e)return(0,a.Z)("New setting a Configurable requires an object as input");if(!t||"object"!=typeof t)return(0,a.Z)("Setting a Configurable requires a model to set its initial properties");Object.assign(this,t),Object.entries(e).forEach((e=>{let[t,r]=e;const n=(0,o.q)(t);n.length&&r&&"object"==typeof r&&n.forEach((e=>{e in r&&((0,a.Z)('"'.concat(e,'" is a protected attribute and can not be changed in feature ').concat(t,".  It will have no effect.")),delete r[e])})),this[t]=r}))}catch(e){(0,a.Z)("An error occured while setting a Configurable",e)}}}const c={beacon:i.ce.beacon,errorBeacon:i.ce.errorBeacon,licenseKey:void 0,applicationID:void 0,sa:void 0,queueTime:void 0,applicationTime:void 0,ttGuid:void 0,user:void 0,account:void 0,product:void 0,extra:void 0,jsAttributes:{},userAttributes:void 0,atts:void 0,transactionName:void 0,tNamePlain:void 0},u={};function d(e){if(!e)throw new Error("All info objects require an agent identifier!");if(!u[e])throw new Error("Info for ".concat(e," was never set"));return u[e]}function f(e,t){if(!e)throw new Error("All info objects require an agent identifier!");u[e]=new s(t,c),(0,i.Qy)(e,u[e],"info")}const l={allow_bfcache:!0,privacy:{cookies_enabled:!0},ajax:{deny_list:void 0,enabled:!0,harvestTimeSeconds:10},distributed_tracing:{enabled:void 0,exclude_newrelic_header:void 0,cors_use_newrelic_header:void 0,cors_use_tracecontext_headers:void 0,allowed_origins:void 0},ssl:void 0,obfuscate:void 0,jserrors:{enabled:!0,harvestTimeSeconds:10},metrics:{enabled:!0},page_action:{enabled:!0,harvestTimeSeconds:30},page_view_event:{enabled:!0},page_view_timing:{enabled:!0,harvestTimeSeconds:30,long_task:!1},session_trace:{enabled:!0,harvestTimeSeconds:10},spa:{enabled:!0,harvestTimeSeconds:10}},h={};function g(e){if(!e)throw new Error("All configuration objects require an agent identifier!");if(!h[e])throw new Error("Configuration for ".concat(e," was never set"));return h[e]}function p(e,t){if(!e)throw new Error("All configuration objects require an agent identifier!");h[e]=new s(t,l),(0,i.Qy)(e,h[e],"config")}function v(e,t){if(!e)throw new Error("All configuration objects require an agent identifier!");var r=g(e);if(r){for(var n=t.split("."),i=0;i<n.length-1;i++)if("object"!=typeof(r=r[n[i]]))return;r=r[n[n.length-1]]}return r}const m={accountID:void 0,trustKey:void 0,agentID:void 0,licenseKey:void 0,applicationID:void 0,xpid:void 0},b={};function y(e){if(!e)throw new Error("All loader-config objects require an agent identifier!");if(!b[e])throw new Error("LoaderConfig for ".concat(e," was never set"));return b[e]}function w(e,t){if(!e)throw new Error("All loader-config objects require an agent identifier!");b[e]=new s(t,m),(0,i.Qy)(e,b[e],"loader_config")}const x=(0,i.mF)().o;var A=null,E=null;const _=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var T=navigator.userAgent,S=T.match(_);S&&-1===T.indexOf("Chrome")&&-1===T.indexOf("Chromium")&&(A="Safari",E=S[1])}function D(e,t){if(!A)return!1;if(e!==A)return!1;if(!t)return!0;if(!E)return!1;for(var r=E.split("."),n=t.split("."),i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}var j=r(2400),O=r(2374),P=r(8226);const I=e=>({buildEnv:P.Re,bytesSent:{},customTransaction:void 0,disabled:!1,distMethod:P.gF,isolatedBacklog:!1,loaderType:void 0,maxBytes:3e4,offset:Math.floor(O._A?.performance?.timeOrigin||O._A?.performance?.timing?.navigationStart||Date.now()),onerror:void 0,origin:""+O._A.location,ptid:void 0,releaseIds:{},sessionId:1==v(e,"privacy.cookies_enabled")?(0,j.Bj)():null,xhrWrappable:"function"==typeof O._A.XMLHttpRequest?.prototype?.addEventListener,userAgent:n,version:P.q4}),R={};function C(e){if(!e)throw new Error("All runtime objects require an agent identifier!");if(!R[e])throw new Error("Runtime for ".concat(e," was never set"));return R[e]}function N(e,t){if(!e)throw new Error("All runtime objects require an agent identifier!");R[e]=new s(t,I(e)),(0,i.Qy)(e,R[e],"runtime")}function k(e){return function(e){try{const t=d(e);return!!t.licenseKey&&!!t.errorBeacon&&!!t.applicationID}catch(e){return!1}}(e)}},8226:(e,t,r)=>{"use strict";r.d(t,{Re:()=>i,gF:()=>o,q4:()=>n});const n="1.230.0",i="PROD",o="CDN"},9557:(e,t,r)=>{"use strict";r.d(t,{w:()=>o});var n=r(8610);const i={agentIdentifier:""};class o{constructor(e){try{if("object"!=typeof e)return(0,n.Z)("shared context requires an object as input");this.sharedContext={},Object.assign(this.sharedContext,i),Object.entries(e).forEach((e=>{let[t,r]=e;Object.keys(i).includes(t)&&(this.sharedContext[t]=r)}))}catch(e){(0,n.Z)("An error occured while setting SharedContext",e)}}}},4329:(e,t,r)=>{"use strict";r.d(t,{L:()=>d,R:()=>c});var n=r(3752),i=r(7022),o=r(4045),a=r(2325);const s={};function c(e,t){const r={staged:!1,priority:a.p[t]||0};u(e),s[e].get(t)||s[e].set(t,r)}function u(e){e&&(s[e]||(s[e]=new Map))}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"feature";if(u(e),!e||!s[e].get(t))return a(t);s[e].get(t).staged=!0;const r=Array.from(s[e]);function a(t){const r=e?n.ee.get(e):n.ee,a=o.X.handlers;if(r.backlog&&a){var s=r.backlog[t],c=a[t];if(c){for(var u=0;s&&u<s.length;++u)f(s[u],c);(0,i.D)(c,(function(e,t){(0,i.D)(t,(function(t,r){r[0].on(e,r[1])}))}))}delete a[t],r.backlog[t]=null,r.emit("drain-"+t,[])}}r.every((e=>{let[t,r]=e;return r.staged}))&&(r.sort(((e,t)=>e[1].priority-t[1].priority)),r.forEach((e=>{let[t]=e;a(t)})))}function f(e,t){var r=e[1];(0,i.D)(t[r],(function(t,r){var n=e[0];if(r[0]===n){var i=r[1],o=e[3],a=e[2];i.apply(o,a)}}))}},3752:(e,t,r)=>{"use strict";r.d(t,{ee:()=>u});var n=r(6797),i=r(3916),o=r(7022),a=r(27),s="nr@context";let c=(0,n.fP)();var u;function d(){}function f(){return new d}function l(){u.aborted=!0,u.backlog={}}c.ee?u=c.ee:(u=function e(t,r){var n={},c={},h={},g=!1;try{g=16===r.length&&(0,a.OP)(r).isolatedBacklog}catch(e){}var p={on:b,addEventListener:b,removeEventListener:y,emit:m,get:x,listeners:w,context:v,buffer:A,abort:l,aborted:!1,isBuffering:E,debugId:r,backlog:g?{}:t&&"object"==typeof t.backlog?t.backlog:{}};return p;function v(e){return e&&e instanceof d?e:e?(0,i.X)(e,s,f):f()}function m(e,r,n,i,o){if(!1!==o&&(o=!0),!u.aborted||i){t&&o&&t.emit(e,r,n);for(var a=v(n),s=w(e),d=s.length,f=0;f<d;f++)s[f].apply(a,r);var l=_()[c[e]];return l&&l.push([p,e,r,a]),a}}function b(e,t){n[e]=w(e).concat(t)}function y(e,t){var r=n[e];if(r)for(var i=0;i<r.length;i++)r[i]===t&&r.splice(i,1)}function w(e){return n[e]||[]}function x(t){return h[t]=h[t]||e(p,t)}function A(e,t){var r=_();p.aborted||(0,o.D)(e,(function(e,n){t=t||"feature",c[n]=t,t in r||(r[t]=[])}))}function E(e){return!!_()[c[e]]}function _(){return p.backlog}}(void 0,"globalEE"),c.ee=u)},9252:(e,t,r)=>{"use strict";r.d(t,{E:()=>n,p:()=>i});var n=r(3752).ee.get("handle");function i(e,t,r,i,o){o?(o.buffer([e],i),o.emit(e,t,r)):(n.buffer([e],i),n.emit(e,t,r))}},4045:(e,t,r)=>{"use strict";r.d(t,{X:()=>o});var n=r(9252);o.on=a;var i=o.handlers={};function o(e,t,r,o){a(o||n.E,i,e,t,r)}function a(e,t,r,i,o){o||(o="feature"),e||(e=n.E);var a=t[o]=t[o]||{};(a[r]=a[r]||[]).push([e,i])}},8544:(e,t,r)=>{"use strict";r.d(t,{bP:()=>s,iz:()=>c,m$:()=>a});var n=r(2374);let i=!1,o=!1;try{const e={get passive(){return i=!0,!1},get signal(){return o=!0,!1}};n._A.addEventListener("test",null,e),n._A.removeEventListener("test",null,e)}catch(e){}function a(e,t){return i||o?{capture:!!e,passive:i,signal:t}:!!e}function s(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];window.addEventListener(e,t,a(r))}function c(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];document.addEventListener(e,t,a(r))}},5526:(e,t,r)=>{"use strict";r.d(t,{Ht:()=>a,M:()=>o,Rl:()=>i,ky:()=>s});var n=r(2374);function i(){var e=null,t=0,r=n._A?.crypto||n._A?.msCrypto;function i(){return e?15&e[t++]:16*Math.random()|0}r&&r.getRandomValues&&(e=r.getRandomValues(new Uint8Array(31)));for(var o,a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",s="",c=0;c<a.length;c++)s+="x"===(o=a[c])?i().toString(16):"y"===o?(o=3&i()|8).toString(16):o;return s}function o(){return s(16)}function a(){return s(32)}function s(e){var t=null,r=0,n=self.crypto||self.msCrypto;n&&n.getRandomValues&&Uint8Array&&(t=n.getRandomValues(new Uint8Array(31)));for(var i=[],o=0;o<e;o++)i.push(a().toString(16));return i.join("");function a(){return t?15&t[r++]:16*Math.random()|0}}},2053:(e,t,r)=>{"use strict";function n(){return Math.round(performance.now())}r.d(t,{z:()=>n})},6368:(e,t,r)=>{"use strict";r.d(t,{e:()=>o});var n=r(2374),i={};function o(e){if(e in i)return i[e];if(0===(e||"").indexOf("data:"))return{protocol:"data"};let t;var r=n._A?.location,o={};if(n.il)t=document.createElement("a"),t.href=e;else try{t=new URL(e,r.href)}catch(e){return o}o.port=t.port;var a=t.href.split("://");!o.port&&a[1]&&(o.port=a[1].split("/")[0].split("@").pop().split(":")[1]),o.port&&"0"!==o.port||(o.port="https"===a[0]?"443":"80"),o.hostname=t.hostname||r.hostname,o.pathname=t.pathname,o.protocol=a[0],"/"!==o.pathname.charAt(0)&&(o.pathname="/"+o.pathname);var s=!t.protocol||":"===t.protocol||t.protocol===r.protocol,c=t.hostname===r.hostname&&t.port===r.port;return o.sameOrigin=s&&(!t.hostname||c),"/"===o.pathname&&(i[e]=o),o}},8610:(e,t,r)=>{"use strict";function n(e,t){"function"==typeof console.warn&&(console.warn("New Relic: ".concat(e)),t&&console.warn(t))}r.d(t,{Z:()=>n})},3916:(e,t,r)=>{"use strict";r.d(t,{X:()=>i});var n=Object.prototype.hasOwnProperty;function i(e,t,r){if(n.call(e,t))return e[t];var i=r();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:i,writable:!0,enumerable:!1}),i}catch(e){}return e[t]=i,i}},2374:(e,t,r)=>{"use strict";r.d(t,{_A:()=>o,il:()=>n,lW:()=>a,v6:()=>i});const n=Boolean("undefined"!=typeof window&&window.document),i=Boolean("undefined"!=typeof WorkerGlobalScope&&self.navigator instanceof WorkerNavigator);let o=(()=>{if(n)return window;if(i){if("undefined"!=typeof globalThis&&globalThis instanceof WorkerGlobalScope)return globalThis;if(self instanceof WorkerGlobalScope)return self}throw new Error('New Relic browser agent shutting down due to error: Unable to locate global scope. This is possibly due to code redefining browser global variables like "self" and "window".')})();function a(){return o}},7022:(e,t,r)=>{"use strict";r.d(t,{D:()=>n});const n=(e,t)=>Object.entries(e||{}).map((e=>{let[r,n]=e;return t(r,n)}))},2438:(e,t,r)=>{"use strict";r.d(t,{P:()=>o});var n=r(3752);const i=()=>{const e=new WeakSet;return(t,r)=>{if("object"==typeof r&&null!==r){if(e.has(r))return;e.add(r)}return r}};function o(e){try{return JSON.stringify(e,i())}catch(e){try{n.ee.emit("internal-error",[e])}catch(e){}}}},2650:(e,t,r)=>{"use strict";r.d(t,{K:()=>a,b:()=>o});var n=r(8544);function i(){return"undefined"==typeof document||"complete"===document.readyState}function o(e,t){if(i())return e();(0,n.bP)("load",e,t)}function a(e){if(i())return e();(0,n.iz)("DOMContentLoaded",e)}},6797:(e,t,r)=>{"use strict";r.d(t,{EZ:()=>u,Qy:()=>c,ce:()=>o,fP:()=>a,gG:()=>d,mF:()=>s});var n=r(2053),i=r(2374);const o={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net"};function a(){return i._A.NREUM||(i._A.NREUM={}),void 0===i._A.newrelic&&(i._A.newrelic=i._A.NREUM),i._A.NREUM}function s(){let e=a();return e.o||(e.o={ST:i._A.setTimeout,SI:i._A.setImmediate,CT:i._A.clearTimeout,XHR:i._A.XMLHttpRequest,REQ:i._A.Request,EV:i._A.Event,PR:i._A.Promise,MO:i._A.MutationObserver,FETCH:i._A.fetch}),e}function c(e,t,r){let i=a();const o=i.initializedAgents||{},s=o[e]||{};return Object.keys(s).length||(s.initializedAt={ms:(0,n.z)(),date:new Date}),i.initializedAgents={...o,[e]:{...s,[r]:t}},i}function u(e,t){a()[e]=t}function d(){return function(){let e=a();const t=e.info||{};e.info={beacon:o.beacon,errorBeacon:o.errorBeacon,...t}}(),function(){let e=a();const t=e.init||{};e.init={...t}}(),s(),function(){let e=a();const t=e.loader_config||{};e.loader_config={...t}}(),a()}},6998:(e,t,r)=>{"use strict";r.d(t,{N:()=>i});var n=r(8544);function i(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return void(0,n.iz)("visibilitychange",(function(){if(t){if("hidden"!=document.visibilityState)return;e()}e(document.visibilityState)}))}},2400:(e,t,r)=>{"use strict";r.d(t,{Bj:()=>c,GD:()=>s,J8:()=>u,ju:()=>o});var n=r(5526);const i="NRBA/";function o(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{return window.sessionStorage.setItem(i+r+e,t),!0}catch(e){return!1}}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return window.sessionStorage.getItem(i+t+e)}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{window.sessionStorage.removeItem(i+t+e)}catch(e){}}function c(){try{let e;return null===(e=a("SESSION_ID"))&&(e=(0,n.ky)(16),o("SESSION_ID",e)),e}catch(e){return null}}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=i+e,r={};try{for(let n=0;n<window.sessionStorage.length;n++){let i=window.sessionStorage.key(n);i.startsWith(t)&&(i=i.slice(t.length),r[i]=a(i,e))}}catch(e){}return r}},6408:(e,t,r)=>{"use strict";r.d(t,{W:()=>i});var n=r(2374);function i(){return"function"==typeof n._A?.PerformanceObserver}},8675:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});const n=r(2325).D.ajax},8322:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,t:()=>n});const n=r(2325).D.jserrors,i="nr@seenError"},6034:(e,t,r)=>{"use strict";r.d(t,{gF:()=>o,mY:()=>i,t9:()=>n,vz:()=>s,xS:()=>a});const n=r(2325).D.metrics,i="sm",o="cm",a="storeSupportabilityMetrics",s="storeEventMetrics"},6486:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});const n=r(2325).D.pageAction},2484:(e,t,r)=>{"use strict";r.d(t,{Dz:()=>i,OJ:()=>a,qw:()=>o,t9:()=>n});const n=r(2325).D.pageViewEvent,i="firstbyte",o="domcontent",a="windowload"},6382:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});const n=r(2325).D.pageViewTiming},2628:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ADD_EVENT_LISTENER:()=>p,BST_RESOURCE:()=>a,BST_TIMER:()=>l,END:()=>u,FEATURE_NAME:()=>i,FN_END:()=>f,FN_START:()=>d,ORIG_EVENT:()=>g,PUSH_STATE:()=>h,RESOURCE:()=>s,RESOURCE_TIMING_BUFFER_FULL:()=>o,START:()=>c});var n=r(27);const i=r(2325).D.sessionTrace,o="resourcetimingbufferfull",a="bstResource",s="resource",c="-start",u="-end",d="fn"+c,f="fn"+u,l="bstTimer",h="pushState",g=n.Yu.EV,p="addEventListener"},1509:(e,t,r)=>{"use strict";r.d(t,{W:()=>s});var n=r(27),i=r(3752),o=r(2384),a=r(6797);class s{constructor(e,t,r){this.agentIdentifier=e,this.aggregator=t,this.ee=i.ee.get(e,(0,n.OP)(this.agentIdentifier).isolatedBacklog),this.featureName=r,this.blocked=!1,this.checkConfiguration()}checkConfiguration(){if(!(0,n.lF)(this.agentIdentifier)){let e={...(0,a.gG)().info?.jsAttributes};try{e={...e,...(0,n.C5)(this.agentIdentifier)?.jsAttributes}}catch(e){}(0,o.j)(this.agentIdentifier,{...(0,a.gG)(),info:{...(0,a.gG)().info,jsAttributes:e}})}}}},2384:(e,t,r)=>{"use strict";r.d(t,{j:()=>w});var n=r(2325),i=r(27),o=r(9252),a=r(3752),s=r(2053),c=r(4329),u=r(2650),d=r(2374),f=r(8610),l=r(6034),h=r(6797),g=r(2400);const p="CUSTOM/";function v(){const e=(0,h.gG)();["setErrorHandler","finished","addToTrace","inlineHit","addRelease","addPageAction","setCurrentRouteName","setPageViewName","setCustomAttribute","interaction","noticeError","setUserId"].forEach((t=>{e[t]=function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];let o=[];return Object.values(e.initializedAgents).forEach((e=>{e.exposed&&e.api[t]&&o.push(e.api[t](...n))})),o.length>1?returnsVals:o[0]}(t,...n)}}))}var m=r(7022);const b={stn:[n.D.sessionTrace],err:[n.D.jserrors,n.D.metrics],ins:[n.D.pageAction],spa:[n.D.spa]};const y={};function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},w=arguments.length>2?arguments[2]:void 0,x=arguments.length>3?arguments[3]:void 0,{init:A,info:E,loader_config:_,runtime:T={loaderType:w},exposed:S=!0}=t;const D=(0,h.gG)();if(E||(A=D.init,E=D.info,_=D.loader_config),E.jsAttributes??={},d.v6&&(E.jsAttributes.isWorker=!0),d.il){let e=(0,g.J8)(p);Object.assign(E.jsAttributes,e)}(0,i.CX)(e,E),(0,i.Dg)(e,A||{}),(0,i.GE)(e,_||{}),(0,i.sU)(e,T),v();const j=function(e,t){t||(0,c.R)(e,"api");const h={};var v=a.ee.get(e),m=v.get("tracer"),b="api-",y=b+"ixn-";function w(t,r,n,o){const a=(0,i.C5)(e);return null===r?(delete a.jsAttributes[t],d.il&&(0,g.GD)(t,p)):((0,i.CX)(e,{...a,jsAttributes:{...a.jsAttributes,[t]:r}}),d.il&&o&&(0,g.ju)(t,r,p)),E(b,n,!0)()}function x(){}["setErrorHandler","finished","addToTrace","inlineHit","addRelease"].forEach((e=>h[e]=E(b,e,!0,"api"))),h.addPageAction=E(b,"addPageAction",!0,n.D.pageAction),h.setCurrentRouteName=E(b,"routeName",!0,n.D.spa),h.setPageViewName=function(t,r){if("string"==typeof t)return"/"!==t.charAt(0)&&(t="/"+t),(0,i.OP)(e).customTransaction=(r||"http://custom.transaction")+t,E(b,"setPageViewName",!0)()},h.setCustomAttribute=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"==typeof e){if(["string","number"].includes(typeof t)||null===t)return w(e,t,"setCustomAttribute",r);(0,f.Z)("Failed to execute setCustomAttribute.\nNon-null value must be a string or number type, but a type of <".concat(typeof t,"> was provided."))}else(0,f.Z)("Failed to execute setCustomAttribute.\nName must be a string type, but a type of <".concat(typeof e,"> was provided."))},h.setUserId=function(e){if("string"==typeof e||null===e)return w("enduser.id",e,"setUserId",!0);(0,f.Z)("Failed to execute setUserId.\nNon-null value must be a string type, but a type of <".concat(typeof e,"> was provided."))},h.interaction=function(){return(new x).get()};var A=x.prototype={createTracer:function(e,t){var r={},i=this,a="function"==typeof t;return(0,o.p)(y+"tracer",[(0,s.z)(),e,r],i,n.D.spa,v),function(){if(m.emit((a?"":"no-")+"fn-start",[(0,s.z)(),i,a],r),a)try{return t.apply(this,arguments)}catch(e){throw m.emit("fn-err",[arguments,this,"string"==typeof e?new Error(e):e],r),e}finally{m.emit("fn-end",[(0,s.z)()],r)}}}};function E(e,t,r,i){return function(){return(0,o.p)(l.xS,["API/"+t+"/called"],void 0,n.D.metrics,v),i&&(0,o.p)(e+t,[(0,s.z)(),...arguments],r?null:this,i,v),r?void 0:this}}function _(){r.e(439).then(r.bind(r,5692)).then((t=>{let{setAPI:r}=t;r(e),(0,c.L)(e,"api")})).catch((()=>(0,f.Z)("Downloading runtime APIs failed...")))}return["actionText","setName","setAttribute","save","ignore","onEnd","getContext","end","get"].forEach((e=>{A[e]=E(y,e,void 0,n.D.spa)})),h.noticeError=function(e,t){"string"==typeof e&&(e=new Error(e)),(0,o.p)(l.xS,["API/noticeError/called"],void 0,n.D.metrics,v),(0,o.p)("err",[e,(0,s.z)(),!1,t],void 0,n.D.jserrors,v)},d.v6?_():(0,u.b)((()=>_()),!0),h}(e,x);return(0,h.Qy)(e,j,"api"),(0,h.Qy)(e,S,"exposed"),(0,h.EZ)("activatedFeatures",y),(0,h.EZ)("setToken",(t=>function(e,t){var r=a.ee.get(t);e&&"object"==typeof e&&((0,m.D)(e,(function(e,t){if(!t)return(b[e]||[]).forEach((t=>{(0,o.p)("block-"+e,[],void 0,t,r)}));y[e]||((0,o.p)("feat-"+e,[],void 0,b[e],r),y[e]=!0)})),(0,c.L)(t,n.D.pageViewEvent))}(t,e))),j}},909:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i,q:()=>o});var n=r(2325);function i(e){switch(e){case n.D.ajax:return[n.D.jserrors];case n.D.sessionTrace:return[n.D.ajax,n.D.pageViewEvent];case n.D.pageViewTiming:return[n.D.pageViewEvent];default:return[]}}function o(e){return e===n.D.jserrors?[]:["auto"]}},2325:(e,t,r)=>{"use strict";r.d(t,{D:()=>n,p:()=>i});const n={ajax:"ajax",jserrors:"jserrors",metrics:"metrics",pageAction:"page_action",pageViewEvent:"page_view_event",pageViewTiming:"page_view_timing",sessionTrace:"session_trace",spa:"spa"},i={[n.pageViewEvent]:1,[n.pageViewTiming]:2,[n.metrics]:3,[n.jserrors]:4,[n.ajax]:5,[n.sessionTrace]:6,[n.pageAction]:7,[n.spa]:8}},8683:e=>{e.exports=function(e,t,r){t||(t=0),void 0===r&&(r=e?e.length:0);for(var n=-1,i=r-t||0,o=Array(i<0?0:i);++n<i;)o[n]=e[t+n];return o}}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return r[e](o,o.exports,i),o.exports}i.m=r,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,r)=>(i.f[r](e,t),t)),[])),i.u=e=>(({78:"page_action-aggregate",147:"metrics-aggregate",193:"session_trace-aggregate",317:"jserrors-aggregate",348:"page_view_timing-aggregate",439:"async-api",729:"lazy-loader",786:"page_view_event-aggregate",873:"spa-aggregate",898:"ajax-aggregate"}[e]||e)+"."+{78:"4d79b951",147:"20a08804",193:"6e2218bf",317:"9136a849",348:"9590bdab",439:"6c072bf7",729:"ff971c03",786:"75812140",862:"9f44b58b",873:"6c038a0a",898:"bcd562bf"}[e]+"-1.230.0.min.js"),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="NRBA:",i.l=(r,n,o,a)=>{if(e[r])e[r].push(n);else{var s,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var f=u[d];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+o){s=f;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[n];var l=(t,n)=>{s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},h=setTimeout(l.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=l.bind(null,s.onerror),s.onload=l.bind(null,s.onload),c&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="https://js-agent.newrelic.com/",(()=>{var e={265:0,146:0};i.f.j=(t,r)=>{var n=i.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,i)=>n=e[t]=[r,i]));r.push(n[2]=o);var a=i.p+i.u(t),s=new Error;i.l(a,(r=>{if(i.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,n[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,o,[a,s,c]=r,u=0;if(a.some((t=>0!==e[t]))){for(n in s)i.o(s,n)&&(i.m[n]=s[n]);if(c)c(i)}for(t&&t(r);u<a.length;u++)o=a[u],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=window.webpackChunkNRBA=window.webpackChunkNRBA||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o={};(()=>{"use strict";i.r(o);var e=i(2325),t=i(27);const r=Object.values(e.D);function n(e){const n={};return r.forEach((r=>{n[r]=function(e,r){return!1!==(0,t.Mt)(r,"".concat(e,".enabled"))}(r,e)})),n}var a=i(2384),s=i(909),c=i(9252),u=i(8768),d=i(4329),f=i(1509),l=i(2650),h=i(2374),g=i(8610);class p extends f.W{constructor(e,t,r){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];super(e,t,r),this.hasAggregator=!1,this.auto=n,this.abortHandler,n&&(0,d.R)(e,r)}importAggregator(){if(this.hasAggregator||!this.auto)return;this.hasAggregator=!0;const e=async()=>{try{const{lazyLoader:e}=await i.e(729).then(i.bind(i,8110)),{Aggregate:t}=await e(this.featureName,"aggregate");new t(this.agentIdentifier,this.aggregator)}catch(e){(0,g.Z)("Downloading ".concat(this.featureName," failed...")),this.abortHandler?.()}};h.v6?e():(0,l.b)((()=>e()),!0)}}var v=i(2484),m=i(2053);class b extends p{static featureName=v.t9;constructor(r,n){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(super(r,n,v.t9,i),("undefined"==typeof PerformanceNavigationTiming||u.T)&&"undefined"!=typeof PerformanceTiming){const n=(0,t.OP)(r);n[v.Dz]=Math.max(Date.now()-n.offset,0),(0,l.K)((()=>n[v.qw]=Math.max((0,m.z)()-n[v.Dz],0))),(0,l.b)((()=>{const t=(0,m.z)();n[v.OJ]=Math.max(t-n[v.Dz],0),(0,c.p)("timing",["load",t],void 0,e.D.pageViewTiming,this.ee)}))}this.importAggregator()}}var y=i(9557),w=i(7022);class x extends y.w{constructor(e){super(e),this.aggregatedData={}}store(e,t,r,n,i){var o=this.getBucket(e,t,r,i);return o.metrics=function(e,t){t||(t={count:0});return t.count+=1,(0,w.D)(e,(function(e,r){t[e]=A(r,t[e])})),t}(n,o.metrics),o}merge(e,t,r,n,i){var o=this.getBucket(e,t,n,i);if(o.metrics){var a=o.metrics;a.count+=r.count,(0,w.D)(r,(function(e,t){if("count"!==e){var n=a[e],i=r[e];i&&!i.c?a[e]=A(i.t,n):a[e]=function(e,t){if(!t)return e;t.c||(t=E(t.t));return t.min=Math.min(e.min,t.min),t.max=Math.max(e.max,t.max),t.t+=e.t,t.sos+=e.sos,t.c+=e.c,t}(i,a[e])}}))}else o.metrics=r}storeMetric(e,t,r,n){var i=this.getBucket(e,t,r);return i.stats=A(n,i.stats),i}getBucket(e,t,r,n){this.aggregatedData[e]||(this.aggregatedData[e]={});var i=this.aggregatedData[e][t];return i||(i=this.aggregatedData[e][t]={params:r||{}},n&&(i.custom=n)),i}get(e,t){return t?this.aggregatedData[e]&&this.aggregatedData[e][t]:this.aggregatedData[e]}take(e){for(var t={},r="",n=!1,i=0;i<e.length;i++)t[r=e[i]]=_(this.aggregatedData[r]),t[r].length&&(n=!0),delete this.aggregatedData[r];return n?t:null}}function A(e,t){return null==e?function(e){e?e.c++:e={c:1};return e}(t):t?(t.c||(t=E(t.t)),t.c+=1,t.t+=e,t.sos+=e*e,e>t.max&&(t.max=e),e<t.min&&(t.min=e),t):{t:e}}function E(e){return{t:e,min:e,max:e,sos:e*e,c:1}}function _(e){return"object"!=typeof e?[]:(0,w.D)(e,T)}function T(e,t){return t}var S=i(6797),D=i(5526),j=i(2438);var O=i(6998),P=i(8544),I=i(6382);class R extends p{static featureName=I.t;constructor(e,r){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,r,I.t,n),h.il&&((0,t.OP)(e).initHidden=Boolean("hidden"===document.visibilityState),(0,O.N)((()=>(0,c.p)("docHidden",[(0,m.z)()],void 0,I.t,this.ee)),!0),(0,P.bP)("pagehide",(()=>(0,c.p)("winPagehide",[(0,m.z)()],void 0,I.t,this.ee))),this.importAggregator())}}const C=Boolean(h._A?.Worker),N=Boolean(h._A?.SharedWorker),k=Boolean(h._A?.navigator?.serviceWorker);let H,z,L;var M=i(6034),B=i(3752),U=i(8683),F=i.n(U);const q="nr@original";var W=Object.prototype.hasOwnProperty,G=!1;function V(e,t){return e||(e=B.ee),r.inPlace=function(e,t,n,i,o){n||(n="");var a,s,c,u="-"===n.charAt(0);for(c=0;c<t.length;c++)Q(a=e[s=t[c]])||(e[s]=r(a,u?s+n:n,i,s,o))},r.flag=q,r;function r(t,r,i,o,a){return Q(t)?t:(r||(r=""),nrWrapper[q]=t,Z(t,nrWrapper,e),nrWrapper);function nrWrapper(){var s,c,u,d;try{c=this,s=F()(arguments),u="function"==typeof i?i(s,c):i||{}}catch(t){X([t,"",[s,c,o],u],e)}n(r+"start",[s,c,o],u,a);try{return d=t.apply(c,s)}catch(e){throw n(r+"err",[s,c,e],u,a),e}finally{n(r+"end",[s,c,d],u,a)}}}function n(r,n,i,o){if(!G||t){var a=G;G=!0;try{e.emit(r,n,i,t,o)}catch(t){X([t,r,n,i],e)}G=a}}}function X(e,t){t||(t=B.ee);try{t.emit("internal-error",e)}catch(e){}}function Z(e,t,r){if(Object.defineProperty&&Object.keys)try{return Object.keys(e).forEach((function(r){Object.defineProperty(t,r,{get:function(){return e[r]},set:function(t){return e[r]=t,t}})})),t}catch(e){X([e],r)}for(var n in e)W.call(e,n)&&(t[n]=e[n]);return t}function Q(e){return!(e&&e instanceof Function&&e.apply&&!e[q])}const $={},Y=["debug","error","info","log","trace","warn"];function K(e){const t=function(e){return(e||B.ee).get("console")}(e);return $[t.debugId]||($[t.debugId]=!0,V(t).inPlace(h._A.console,Y,"-console-")),t}var J=i(3916);const ee={},te=XMLHttpRequest,re="addEventListener",ne="removeEventListener";function ie(e){var t=function(e){return(e||B.ee).get("events")}(e);if(ee[t.debugId]++)return t;ee[t.debugId]=1;var r=V(t,!0);function n(e){r.inPlace(e,[re,ne],"-",i)}function i(e,t){return e[1]}return"getPrototypeOf"in Object&&(h.il&&oe(document,n),oe(h._A,n),oe(te.prototype,n)),t.on(re+"-start",(function(e,t){var n=e[1];if(null!==n&&("function"==typeof n||"object"==typeof n)){var i=(0,J.X)(n,"nr@wrapped",(function(){var e={object:function(){if("function"!=typeof n.handleEvent)return;return n.handleEvent.apply(n,arguments)},function:n}[typeof n];return e?r(e,"fn-",null,e.name||"anonymous"):n}));this.wrapped=e[1]=i}})),t.on(ne+"-start",(function(e){e[1]=this.wrapped||e[1]})),t}function oe(e,t){let r=e;for(;"object"==typeof r&&!Object.prototype.hasOwnProperty.call(r,re);)r=Object.getPrototypeOf(r);for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];r&&t(r,...i)}var ae="fetch-",se=ae+"body-",ce=["arrayBuffer","blob","json","text","formData"],ue=h._A.Request,de=h._A.Response,fe="prototype",le="nr@context";const he={};function ge(e){const t=function(e){return(e||B.ee).get("fetch")}(e);if(!(ue&&de&&h._A.fetch))return t;if(he[t.debugId]++)return t;function r(e,r,n){var i=e[r];"function"==typeof i&&(e[r]=function(){var e,r=F()(arguments),o={};t.emit(n+"before-start",[r],o),o[le]&&o[le].dt&&(e=o[le].dt);var a=i.apply(this,r);return t.emit(n+"start",[r,e],a),a.then((function(e){return t.emit(n+"end",[null,e],a),e}),(function(e){throw t.emit(n+"end",[e],a),e}))})}return he[t.debugId]=1,ce.forEach((e=>{r(ue[fe],e,se),r(de[fe],e,se)})),r(h._A,"fetch",ae),t.on(ae+"end",(function(e,r){var n=this;if(r){var i=r.headers.get("content-length");null!==i&&(n.rxSize=i),t.emit(ae+"done",[null,r],n)}else t.emit(ae+"done",[e],n)})),t}const pe={},ve=["pushState","replaceState"];function me(e){const t=function(e){return(e||B.ee).get("history")}(e);return!h.il||pe[t.debugId]++||(pe[t.debugId]=1,V(t).inPlace(window.history,ve,"-")),t}const be={};function ye(e){const t=function(e){return(e||B.ee).get("raf")}(e);if(!h.il||be[t.debugId]++)return t;be[t.debugId]=1;var r=V(t);return r.inPlace(window,["requestAnimationFrame"],"raf-"),t.on("raf-start",(function(e){e[0]=r(e[0],"fn-")})),t}const we={},xe="setTimeout",Ae="setInterval",Ee="clearTimeout",_e="-start",Te=[xe,"setImmediate",Ae,Ee,"clearImmediate"];function Se(e){const t=function(e){return(e||B.ee).get("timer")}(e);if(we[t.debugId]++)return t;we[t.debugId]=1;var r=V(t);return r.inPlace(h._A,Te.slice(0,2),xe+"-"),r.inPlace(h._A,Te.slice(2,3),Ae+"-"),r.inPlace(h._A,Te.slice(3),Ee+"-"),t.on(Ae+_e,(function(e,t,n){e[0]=r(e[0],"fn-",null,n)})),t.on(xe+_e,(function(e,t,n){this.method=n,this.timerDuration=isNaN(e[1])?0:+e[1],e[0]=r(e[0],"fn-",this,n)})),t}const De={},je=["open","send"];function Oe(e){var r=e||B.ee;const n=function(e){return(e||B.ee).get("xhr")}(r);if(De[n.debugId]++)return n;De[n.debugId]=1,ie(r);var i=V(n),o=t.Yu.XHR,a=t.Yu.MO,s=t.Yu.PR,c=t.Yu.SI,u="readystatechange",d=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],f=[],l=h._A.XMLHttpRequest.listeners,p=h._A.XMLHttpRequest=function(e){var t=new o(e);function r(){try{n.emit("new-xhr",[t],t),t.addEventListener(u,m,(0,P.m$)(!1))}catch(e){(0,g.Z)("An error occured while intercepting XHR",e);try{n.emit("internal-error",[e])}catch(e){}}}return this.listeners=l?[...l,r]:[r],this.listeners.forEach((e=>e())),t};function v(e,t){i.inPlace(t,["onreadystatechange"],"fn-",A)}function m(){var e=this,t=n.context(e);e.readyState>3&&!t.resolved&&(t.resolved=!0,n.emit("xhr-resolved",[],e)),i.inPlace(e,d,"fn-",A)}if(function(e,t){for(var r in e)t[r]=e[r]}(o,p),p.prototype=o.prototype,i.inPlace(p.prototype,je,"-xhr-",A),n.on("send-xhr-start",(function(e,t){v(e,t),function(e){f.push(e),a&&(b?b.then(x):c?c(x):(y=-y,w.data=y))}(t)})),n.on("open-xhr-start",v),a){var b=s&&s.resolve();if(!c&&!s){var y=1,w=document.createTextNode(y);new a(x).observe(w,{characterData:!0})}}else r.on("fn-end",(function(e){e[0]&&e[0].type===u||x()}));function x(){for(var e=0;e<f.length;e++)v(0,f[e]);f.length&&(f=[])}function A(e,t){return t}return n}class Pe extends p{static featureName=M.t9;constructor(t,r){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(t,r,M.t9,n),function(e){if(!H){if(C){H=Worker;try{h._A.Worker=r(H,"Dedicated")}catch(e){o(e,"Dedicated")}if(N){z=SharedWorker;try{h._A.SharedWorker=r(z,"Shared")}catch(e){o(e,"Shared")}}else n("Shared");if(k){L=navigator.serviceWorker.register;try{h._A.navigator.serviceWorker.register=(t=L,function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return i("Service",r[1]?.type),t.apply(navigator.serviceWorker,r)})}catch(e){o(e,"Service")}}else n("Service");var t;return}n("All")}function r(e,t){return"undefined"==typeof Proxy?e:new Proxy(e,{construct:(e,r)=>(i(t,r[1]?.type),new e(...r))})}function n(t){h.v6||e("Workers/".concat(t,"/Unavailable"))}function i(t,r){e("Workers/".concat(t,"module"===r?"/Module":"/Classic"))}function o(t,r){e("Workers/".concat(r,"/SM/Unsupported")),(0,g.Z)("NR Agent: Unable to capture ".concat(r," workers."),t)}}((t=>(0,c.p)(M.xS,[t],void 0,e.D.metrics,this.ee))),this.addConsoleSupportabilityMetrics(),this.importAggregator()}addConsoleSupportabilityMetrics(){const t=K(this.ee);for(const r of["Debug","Error","Info","Log","Trace","Warn"])t.on("".concat(r.toLowerCase(),"-console-start"),(function(n,i){let o=[];for(const e of n)"function"==typeof e||e&&e.message&&e.stack?o.push(e.toString()):o.push(e);const a=(0,j.P)(o);(0,c.p)(M.xS,["Console/".concat(r,"/Seen"),a.length],void 0,e.D.metrics,t)}))}}var Ie,Re={};try{Ie=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(Re.console=!0,-1!==Ie.indexOf("dev")&&(Re.dev=!0),-1!==Ie.indexOf("nr_dev")&&(Re.nrDev=!0))}catch(e){}function Ce(e){try{Re.console&&Ce(e)}catch(e){}}Re.nrDev&&B.ee.on("internal-error",(function(e){Ce(e.stack)})),Re.dev&&B.ee.on("fn-err",(function(e,t,r){Ce(r.stack)})),Re.dev&&(Ce("NR AGENT IN DEVELOPMENT MODE"),Ce("flags: "+(0,w.D)(Re,(function(e,t){return e})).join(", ")));var Ne=i(8322);class ke extends p{static featureName=Ne.t;constructor(r,n){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(r,n,Ne.t,i),this.skipNext=0;try{this.removeOnAbort=new AbortController}catch(e){}const o=this;o.ee.on("fn-start",(function(e,t,r){o.abortHandler&&(o.skipNext+=1)})),o.ee.on("fn-err",(function(e,t,r){o.abortHandler&&!r[Ne.A]&&((0,J.X)(r,Ne.A,(function(){return!0})),this.thrown=!0,ze(r,void 0,o.ee))})),o.ee.on("fn-end",(function(){o.abortHandler&&!this.thrown&&o.skipNext>0&&(o.skipNext-=1)})),o.ee.on("internal-error",(function(t){(0,c.p)("ierr",[t,(0,m.z)(),!0],void 0,e.D.jserrors,o.ee)})),this.origOnerror=h._A.onerror,h._A.onerror=this.onerrorHandler.bind(this),h._A.addEventListener("unhandledrejection",(t=>{const r=function(e){let t="Unhandled Promise Rejection: ";if(e instanceof Error)try{return e.message=t+e.message,e}catch(t){return e}if(void 0===e)return new Error(t);try{return new Error(t+(0,j.P)(e))}catch(e){return new Error(t)}}(t.reason);(0,c.p)("err",[r,(0,m.z)(),!1,{unhandledPromiseRejection:1}],void 0,e.D.jserrors,this.ee)}),(0,P.m$)(!1,this.removeOnAbort?.signal)),ye(this.ee),Se(this.ee),ie(this.ee),(0,t.OP)(r).xhrWrappable&&Oe(this.ee),this.abortHandler=this.#e,this.importAggregator()}#e(){this.removeOnAbort?.abort(),this.abortHandler=void 0}onerrorHandler(t,r,n,i,o){"function"==typeof this.origOnerror&&this.origOnerror(...arguments);try{this.skipNext?this.skipNext-=1:ze(o||new He(t,r,n),!0,this.ee)}catch(t){try{(0,c.p)("ierr",[t,(0,m.z)(),!0],void 0,e.D.jserrors,this.ee)}catch(e){}}return!1}}function He(e,t,r){this.message=e||"Uncaught error with no additional information",this.sourceURL=t,this.line=r}function ze(t,r,n){var i=r?null:(0,m.z)();(0,c.p)("err",[t,i],void 0,e.D.jserrors,n)}var Le=1,Me="nr@id";function Be(e){var t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===h._A?0:(0,J.X)(e,Me,(function(){return Le++}))}var Ue=i(9071);function Fe(e){if("string"==typeof e&&e.length)return e.length;if("object"==typeof e){if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer&&e.byteLength)return e.byteLength;if("undefined"!=typeof Blob&&e instanceof Blob&&e.size)return e.size;if(!("undefined"!=typeof FormData&&e instanceof FormData))try{return(0,j.P)(e).length}catch(e){return}}}var qe=i(6368);class We{constructor(e){this.agentIdentifier=e,this.generateTracePayload=this.generateTracePayload.bind(this),this.shouldGenerateTrace=this.shouldGenerateTrace.bind(this)}generateTracePayload(e){if(!this.shouldGenerateTrace(e))return null;var r=(0,t.DL)(this.agentIdentifier);if(!r)return null;var n=(r.accountID||"").toString()||null,i=(r.agentID||"").toString()||null,o=(r.trustKey||"").toString()||null;if(!n||!i)return null;var a=(0,D.M)(),s=(0,D.Ht)(),c=Date.now(),u={spanId:a,traceId:s,timestamp:c};return(e.sameOrigin||this.isAllowedOrigin(e)&&this.useTraceContextHeadersForCors())&&(u.traceContextParentHeader=this.generateTraceContextParentHeader(a,s),u.traceContextStateHeader=this.generateTraceContextStateHeader(a,c,n,i,o)),(e.sameOrigin&&!this.excludeNewrelicHeader()||!e.sameOrigin&&this.isAllowedOrigin(e)&&this.useNewrelicHeaderForCors())&&(u.newrelicHeader=this.generateTraceHeader(a,s,c,n,i,o)),u}generateTraceContextParentHeader(e,t){return"00-"+t+"-"+e+"-01"}generateTraceContextStateHeader(e,t,r,n,i){return i+"@nr=0-1-"+r+"-"+n+"-"+e+"----"+t}generateTraceHeader(e,t,r,n,i,o){if(!("function"==typeof h._A?.btoa))return null;var a={v:[0,1],d:{ty:"Browser",ac:n,ap:i,id:e,tr:t,ti:r}};return o&&n!==o&&(a.d.tk=o),btoa((0,j.P)(a))}shouldGenerateTrace(e){return this.isDtEnabled()&&this.isAllowedOrigin(e)}isAllowedOrigin(e){var r=!1,n={};if((0,t.Mt)(this.agentIdentifier,"distributed_tracing")&&(n=(0,t.P_)(this.agentIdentifier).distributed_tracing),e.sameOrigin)r=!0;else if(n.allowed_origins instanceof Array)for(var i=0;i<n.allowed_origins.length;i++){var o=(0,qe.e)(n.allowed_origins[i]);if(e.hostname===o.hostname&&e.protocol===o.protocol&&e.port===o.port){r=!0;break}}return r}isDtEnabled(){var e=(0,t.Mt)(this.agentIdentifier,"distributed_tracing");return!!e&&!!e.enabled}excludeNewrelicHeader(){var e=(0,t.Mt)(this.agentIdentifier,"distributed_tracing");return!!e&&!!e.exclude_newrelic_header}useNewrelicHeaderForCors(){var e=(0,t.Mt)(this.agentIdentifier,"distributed_tracing");return!!e&&!1!==e.cors_use_newrelic_header}useTraceContextHeadersForCors(){var e=(0,t.Mt)(this.agentIdentifier,"distributed_tracing");return!!e&&!!e.cors_use_tracecontext_headers}}var Ge=i(8675),Ve=["load","error","abort","timeout"],Xe=Ve.length,Ze=t.Yu.REQ,Qe=h._A.XMLHttpRequest;class $e extends p{static featureName=Ge.t;constructor(r,n){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(r,n,Ge.t,i),(0,t.OP)(r).xhrWrappable&&(this.dt=new We(r),this.handler=(e,t,r,n)=>(0,c.p)(e,t,r,n,this.ee),ge(this.ee),Oe(this.ee),function(r,n,i,o){function a(e){var t=this;t.totalCbs=0,t.called=0,t.cbTime=0,t.end=E,t.ended=!1,t.xhrGuids={},t.lastSize=null,t.loadCaptureCalled=!1,t.params=this.params||{},t.metrics=this.metrics||{},e.addEventListener("load",(function(r){T(t,e)}),(0,P.m$)(!1)),Ue.I||e.addEventListener("progress",(function(e){t.lastSize=e.loaded}),(0,P.m$)(!1))}function s(e){this.params={method:e[0]},_(this,e[1]),this.metrics={}}function c(e,n){var i=(0,t.DL)(r);"xpid"in i&&this.sameOrigin&&n.setRequestHeader("X-NewRelic-ID",i.xpid);var a=o.generateTracePayload(this.parsedOrigin);if(a){var s=!1;a.newrelicHeader&&(n.setRequestHeader("newrelic",a.newrelicHeader),s=!0),a.traceContextParentHeader&&(n.setRequestHeader("traceparent",a.traceContextParentHeader),a.traceContextStateHeader&&n.setRequestHeader("tracestate",a.traceContextStateHeader),s=!0),s&&(this.dt=a)}}function u(e,t){var r=this.metrics,i=e[0],o=this;if(r&&i){var a=Fe(i);a&&(r.txSize=a)}this.startTime=(0,m.z)(),this.listener=function(e){try{"abort"!==e.type||o.loadCaptureCalled||(o.params.aborted=!0),("load"!==e.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof t.onload)&&"function"==typeof o.end)&&o.end(t)}catch(e){try{n.emit("internal-error",[e])}catch(e){}}};for(var s=0;s<Xe;s++)t.addEventListener(Ve[s],this.listener,(0,P.m$)(!1))}function d(e,t,r){this.cbTime+=e,t?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof r.onload||"function"!=typeof this.end||this.end(r)}function f(e,t){var r=""+Be(e)+!!t;this.xhrGuids&&!this.xhrGuids[r]&&(this.xhrGuids[r]=!0,this.totalCbs+=1)}function l(e,t){var r=""+Be(e)+!!t;this.xhrGuids&&this.xhrGuids[r]&&(delete this.xhrGuids[r],this.totalCbs-=1)}function g(){this.endTime=(0,m.z)()}function p(e,t){t instanceof Qe&&"load"===e[0]&&n.emit("xhr-load-added",[e[1],e[2]],t)}function v(e,t){t instanceof Qe&&"load"===e[0]&&n.emit("xhr-load-removed",[e[1],e[2]],t)}function b(e,t,r){t instanceof Qe&&("onload"===r&&(this.onload=!0),("load"===(e[0]&&e[0].type)||this.onload)&&(this.xhrCbStart=(0,m.z)()))}function y(e,t){this.xhrCbStart&&n.emit("xhr-cb-time",[(0,m.z)()-this.xhrCbStart,this.onload,t],t)}function w(e){var t,r=e[1]||{};"string"==typeof e[0]?t=e[0]:e[0]&&e[0].url?t=e[0].url:h._A?.URL&&e[0]&&e[0]instanceof URL&&(t=e[0].href),t&&(this.parsedOrigin=(0,qe.e)(t),this.sameOrigin=this.parsedOrigin.sameOrigin);var n=o.generateTracePayload(this.parsedOrigin);if(n&&(n.newrelicHeader||n.traceContextParentHeader))if("string"==typeof e[0]||h._A?.URL&&e[0]&&e[0]instanceof URL){var i={};for(var a in r)i[a]=r[a];i.headers=new Headers(r.headers||{}),s(i.headers,n)&&(this.dt=n),e.length>1?e[1]=i:e.push(i)}else e[0]&&e[0].headers&&s(e[0].headers,n)&&(this.dt=n);function s(e,t){var r=!1;return t.newrelicHeader&&(e.set("newrelic",t.newrelicHeader),r=!0),t.traceContextParentHeader&&(e.set("traceparent",t.traceContextParentHeader),t.traceContextStateHeader&&e.set("tracestate",t.traceContextStateHeader),r=!0),r}}function x(e,t){this.params={},this.metrics={},this.startTime=(0,m.z)(),this.dt=t,e.length>=1&&(this.target=e[0]),e.length>=2&&(this.opts=e[1]);var r,n=this.opts||{},i=this.target;"string"==typeof i?r=i:"object"==typeof i&&i instanceof Ze?r=i.url:h._A?.URL&&"object"==typeof i&&i instanceof URL&&(r=i.href),_(this,r);var o=(""+(i&&i instanceof Ze&&i.method||n.method||"GET")).toUpperCase();this.params.method=o,this.txSize=Fe(n.body)||0}function A(t,r){var n;this.endTime=(0,m.z)(),this.params||(this.params={}),this.params.status=r?r.status:0,"string"==typeof this.rxSize&&this.rxSize.length>0&&(n=+this.rxSize);var o={txSize:this.txSize,rxSize:n,duration:(0,m.z)()-this.startTime};i("xhr",[this.params,o,this.startTime,this.endTime,"fetch"],this,e.D.ajax)}function E(t){var r=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(var o=0;o<Xe;o++)t.removeEventListener(Ve[o],this.listener,!1);r.aborted||(n.duration=(0,m.z)()-this.startTime,this.loadCaptureCalled||4!==t.readyState?null==r.status&&(r.status=0):T(this,t),n.cbTime=this.cbTime,i("xhr",[r,n,this.startTime,this.endTime,"xhr"],this,e.D.ajax))}}function _(e,t){var r=(0,qe.e)(t),n=e.params;n.hostname=r.hostname,n.port=r.port,n.protocol=r.protocol,n.host=r.hostname+":"+r.port,n.pathname=r.pathname,e.parsedOrigin=r,e.sameOrigin=r.sameOrigin}function T(e,t){e.params.status=t.status;var r=function(e,t){var r=e.responseType;return"json"===r&&null!==t?t:"arraybuffer"===r||"blob"===r||"json"===r?Fe(e.response):"text"===r||""===r||void 0===r?Fe(e.responseText):void 0}(t,e.lastSize);if(r&&(e.metrics.rxSize=r),e.sameOrigin){var n=t.getResponseHeader("X-NewRelic-App-Data");n&&(e.params.cat=n.split(", ").pop())}e.loadCaptureCalled=!0}n.on("new-xhr",a),n.on("open-xhr-start",s),n.on("open-xhr-end",c),n.on("send-xhr-start",u),n.on("xhr-cb-time",d),n.on("xhr-load-added",f),n.on("xhr-load-removed",l),n.on("xhr-resolved",g),n.on("addEventListener-end",p),n.on("removeEventListener-end",v),n.on("fn-end",y),n.on("fetch-before-start",w),n.on("fetch-start",x),n.on("fn-start",b),n.on("fetch-done",A)}(r,this.ee,this.handler,this.dt),this.importAggregator())}}var Ye=i(6408),Ke=i(2628);const{BST_RESOURCE:Je,BST_TIMER:et,END:tt,FEATURE_NAME:rt,FN_END:nt,FN_START:it,ADD_EVENT_LISTENER:ot,PUSH_STATE:at,RESOURCE:st,RESOURCE_TIMING_BUFFER_FULL:ct,START:ut,ORIG_EVENT:dt}=Ke,ft="clearResourceTimings";var lt=i(6486);class ht extends p{static featureName=lt.t;constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t,lt.t,r),this.importAggregator()}}new class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,D.ky)(16);this.agentIdentifier=t,this.sharedAggregator=new x({agentIdentifier:this.agentIdentifier}),this.features={},this.desiredFeatures=new Set(e.features||[]),this.desiredFeatures.add(b),Object.assign(this,(0,a.j)(this.agentIdentifier,e,e.loaderType||"agent")),this.start()}get config(){return{info:(0,t.C5)(this.agentIdentifier),init:(0,t.P_)(this.agentIdentifier),loader_config:(0,t.DL)(this.agentIdentifier),runtime:(0,t.OP)(this.agentIdentifier)}}start(){const t="features";try{const r=n(this.agentIdentifier),i=Array.from(this.desiredFeatures);i.sort(((t,r)=>e.p[t.featureName]-e.p[r.featureName])),i.forEach((t=>{if(r[t.featureName]||t.featureName===e.D.pageViewEvent){const e=(0,s.Z)(t.featureName);e.every((e=>r[e]))||(0,g.Z)("".concat(t.featureName," is enabled but one or more dependent features has been disabled (").concat((0,j.P)(e),"). This may cause unintended consequences or missing data...")),this.features[t.featureName]=new t(this.agentIdentifier,this.sharedAggregator)}})),(0,S.Qy)(this.agentIdentifier,this.features,t)}catch(e){(0,g.Z)("Failed to initialize all enabled instrument classes (agent aborted) -",e);for(const e in this.features)this.features[e].abortHandler?.();const r=(0,S.fP)();return delete r.initializedAgents[this.agentIdentifier]?.api,delete r.initializedAgents[this.agentIdentifier]?.[t],delete this.sharedAggregator,r.ee?.abort(),delete r.ee?.get(this.agentIdentifier),!1}}}({features:[b,R,class extends p{static featureName=rt;constructor(t,r){if(super(t,r,rt,!(arguments.length>2&&void 0!==arguments[2])||arguments[2]),!h.il)return;const n=this.ee;this.timerEE=Se(n),this.rafEE=ye(n),me(n),ie(n),n.on(it,(function(e,t){e[0]instanceof dt&&(this.bstStart=(0,m.z)())})),n.on(nt,(function(t,r){var i=t[0];i instanceof dt&&(0,c.p)("bst",[i,r,this.bstStart,(0,m.z)()],void 0,e.D.sessionTrace,n)})),this.timerEE.on(it,(function(e,t,r){this.bstStart=(0,m.z)(),this.bstType=r})),this.timerEE.on(nt,(function(t,r){(0,c.p)(et,[r,this.bstStart,(0,m.z)(),this.bstType],void 0,e.D.sessionTrace,n)})),this.rafEE.on(it,(function(){this.bstStart=(0,m.z)()})),this.rafEE.on(nt,(function(t,r){(0,c.p)(et,[r,this.bstStart,(0,m.z)(),"requestAnimationFrame"],void 0,e.D.sessionTrace,n)})),n.on(at+ut,(function(e){this.time=(0,m.z)(),this.startPath=location.pathname+location.hash})),n.on(at+tt,(function(t){(0,c.p)("bstHist",[location.pathname+location.hash,this.startPath,this.time],void 0,e.D.sessionTrace,n)})),(0,Ye.W)()?((0,c.p)(Je,[window.performance.getEntriesByType("resource")],void 0,e.D.sessionTrace,n),function(){var t=new PerformanceObserver(((t,r)=>{var i=t.getEntries();(0,c.p)(Je,[i],void 0,e.D.sessionTrace,n)}));try{t.observe({entryTypes:["resource"]})}catch(e){}}()):window.performance[ft]&&window.performance[ot]&&window.performance.addEventListener(ct,this.onResourceTimingBufferFull,(0,P.m$)(!1)),document.addEventListener("scroll",this.noOp,(0,P.m$)(!1)),document.addEventListener("keypress",this.noOp,(0,P.m$)(!1)),document.addEventListener("click",this.noOp,(0,P.m$)(!1)),this.abortHandler=this.#e,this.importAggregator()}#e(){window.performance.removeEventListener(ct,this.onResourceTimingBufferFull,!1),this.abortHandler=void 0}noOp(e){}onResourceTimingBufferFull(t){if((0,c.p)(Je,[window.performance.getEntriesByType(st)],void 0,e.D.sessionTrace,this.ee),window.performance[ft])try{window.performance.removeEventListener(ct,this.onResourceTimingBufferFull,!1)}catch(e){}}},$e,Pe,ht,ke],loaderType:"pro"})})(),window.NRBA=o})();</script><script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","errorBeacon":"bam.nr-data.net","licenseKey":"1beac94c95","applicationID":"3343327","transactionName":"M1wAYhFXXBZXBUcMCgoWJEMNVUYMWQgcCQgXFwZcAlhVClcWQxZLB1YXRBBTRQREAx0TDAFOERgVX1cSRVxgEQQQUAF1DENAFlMyUgczDVwVGARTRg==","queueTime":1,"applicationTime":932,"agent":"","atts":"HxsXFFlNEAxGOVANBA1XTEQCQRBfFFQDVUtVDFAYWg4cVABRH0VUUwtMAVIYAFYCSAJUVEgZUwRUGAJLBkgCR0lGUBJpAF5TDFhIUAoQCk1ADFAaEAxGOVANBA1XTEIaRlcWFFwRFRAGFBJDARtCF18QEUlHDUk9VQtXWwsYE0AAOghcBVcATxBfUAdfFgBIGwtGPFVaBF8IHQAdEFwQWAJaHAZZE10RR14IThQKRm0GXgdaC0sBQRZTEVhTCRgSShUAFxtYFBNDUEcaRFAKCg9QB0VNXlcEUgNBSxYNQwcUWQUKVQZKERUcEFENWDxAVxdFD1wLR14bURhbGANVFEoRAQ8FVwVZPEBXF0UPXAtHXhtRGFEYA10UShEWBAJcPUUGRUEMWQhASxYBShFfDFhtBlkJWAwAO1oNQw1CEF8HShEXABVMB0UXaVgSQjlQCgoPUAcUWRRcCkJLQQAUEVwRQgZSEEkUA1cdOgBLBGkGTkYAWBVaCgsXZhRTEUVbClhECUddSg5MBkEaEBdTF0YAFhBmA0MXXm0RTxZWOgIRXBFFQQwQFlMVQAwKChQNRE5ZRg1TFBFJRxZcE0MGRUY6QxVWFzoFXgdYFxQIR3sJSQwJCFhNA00GEk1hD10BChNKQng3FgNVGFYIRTINV1QCWBZKUwJPEyQVFFUHYQZUeQxCSQZWUkoKVBZLfXoxeyofRQkNUgcWJFNRDllPEyYNFlYPU0wHA1cYVh1VS1QZMVcFV0AMGVMAUktXD0AaQURXFEMDQBE6FlwEUxFTQEcMRFsRERRKWBlMWlcERAhaCwJKXAZOTVlAAhlEH0cACl0XRQZEHAxSRAlQV1MPUABVBR5HRANCEAAXTT1DEFNAOl8CEV9QVg5UBFUAAUkUFFYUEAFKFmkCQ0YNUwhHDAYFTQdSPENBAEQ5VQoQCl09Xw1pXwxSAl8AEgVLBxRZFEIXWQVWFhY7SwdHFlNBERRKEQYKAFw9WRRYVxdpC1wBEAhcQAxBWl8WGAJZBAsDVgNGE0UcBlkTQRYAE1gQU01AWwBBFR0TDAFOERRPFFEKUgNsChIKXBAUWRRRClgSVgsRSVgXRAxEU0caRFAKAQFmDUENU0A6Qg5WCABGA0BVDFhGAFgSEUlHB1YGUzxZRQtTFGwWFBFYBhRZFFMQRAlBBEdIGwFEBldGAGkVSggIAU0QXwBpWBJCOVAKEApNQAxSGhARUwtDOgQKVgxpFl9WOkBUHRcAFUwHRRdTVkcMVB9HEQFUEmkCWF0LaRNaAToSC0xQBkJRDVMCbAAdDUoWXw1REF8EG04="}</script>
    <meta name="viewport" content="width=device-width, initial-scale=1">



  
      <title>
       Design Recipes | HtC1x | edX
      </title>
  

      <script type="text/javascript">
        /* immediately break out of an iframe if coming from the marketing website */
        (function(window) {
          if (window.location !== window.top.location) {
            window.top.location = window.location;
          }
        })(this);
      </script>

  

  <script type="text/javascript" src="./Design Recipes_files/djangojs.2381162c4ea4.js.download"></script>
  <script type="text/javascript" src="./Design Recipes_files/ie11_find_array.bd1c6dc7a133.js.download"></script>
  
  <link rel="icon" type="image/x-icon" href="https://edx-cdn.org/v3/prod/favicon.ico">



  
  

    <link href="./Design Recipes_files/lms-style-vendor.a44d8153e6e2.css" rel="stylesheet" type="text/css">



    
  

    <link href="./Design Recipes_files/lms-main-v1.a981fa159824.css" rel="stylesheet" type="text/css">




    
    
<script type="text/javascript" src="./Design Recipes_files/lms-base-vendor.0af1c7d14776.js.download" charset="utf-8"></script>


    
    
<script type="text/javascript" src="./Design Recipes_files/lms-base-application.8c893365eb2c.js.download" charset="utf-8"></script>



  
    
    
    <script type="text/javascript" src="./Design Recipes_files/commons.1dce62a854909feb33ad.2b743ad6ff70.js.download"></script>



  <script>
    window.baseUrl = "https://prod\u002Dedx\u002Dedxapp\u002Dassets.edx\u002Dcdn.org/static/";
    (function (require) {
      require.config({
          baseUrl: window.baseUrl
      });
    }).call(this, require || RequireJS.require);
  </script>
  <script type="text/javascript" src="./Design Recipes_files/require-config.38226099c6ad.js.download"></script>
  
    <script type="text/javascript">
        (function (require) {
          require.config({
              paths: {
                'course_bookmarks/js/views/bookmark_button': 'course_bookmarks/js/views/bookmark_button.d4cfaf3361fa',
'js/views/message_banner': 'js/views/message_banner.141974fd4f5d',
'moment': 'common/js/vendor/moment-with-locales.d07131713d35',
'moment-timezone': 'common/js/vendor/moment-timezone-with-data.6741dd44cec2',
'js/courseware/course_info_events': 'js/courseware/course_info_events.2fc35b57627f',
'js/courseware/accordion_events': 'js/courseware/accordion_events.6064c7809de5',
'js/dateutil_factory': 'js/dateutil_factory.05baa90549aa',
'js/courseware/link_clicked_events': 'js/courseware/link_clicked_events',
'js/courseware/toggle_element_visibility': 'js/courseware/toggle_element_visibility.474ff5ba9de3',
'js/student_account/logistration_factory': 'js/student_account/logistration_factory.a20c848bcb88',
'js/courseware/courseware_factory': 'js/courseware/courseware_factory.1504fc10caef',
'js/groups/views/cohorts_dashboard_factory': 'js/groups/views/cohorts_dashboard_factory.35bf944b34d2',
'js/groups/discussions_management/discussions_dashboard_factory': 'js/discussions_management/views/discussions_dashboard_factory.2e10d9097343',
'draggabilly': 'js/vendor/draggabilly.26caba6f7187',
'hls': 'common/js/vendor/hls.5e0c7e1b3bfd'
            }
          });
        }).call(this, require || RequireJS.require);
    </script>
  

  
  

  

    <link href="./Design Recipes_files/lms-style-course-vendor.dc9629c68006.css" rel="stylesheet" type="text/css">




  

    <link href="./Design Recipes_files/lms-course.1fd2b72e4d78.css" rel="stylesheet" type="text/css">






  


  


<script type="application/json" id="user-metadata">
    null
</script>

  

  

<script src="./Design Recipes_files/1743970571.js.download"></script>

  


<!-- begin Segment -->
<script type="text/javascript">
  // Asynchronously load Segment's analytics.js library
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.1.0";
  analytics.load("DxfS1h06K5HA7CZDMzmsmuni8JBLmI9u");
  analytics.page();
  }}();
  // Note: user tracking moved to segment-io-footer.html
</script>
<!-- end Segment -->


  <meta name="path_prefix" content="">
  
    <meta name="google-site-verification" content="_mipQ4AtZQDNmbtOkwehQDOgCxUUV2fb_C0b6wbiRHY">

  <meta name="openedx-release-line" content="master">






    <script type="text/javascript">
        (function(b,r,a,n,c,h,_,s,d,k){if(!b[n]||!b[n]._q){for(;s<_.length;)c(h,_[s++]);d=r.createElement(a);d.async=1;d.src="https://cdn.branch.io/branch-latest.min.js";k=r.getElementsByTagName(a)[0];k.parentNode.insertBefore(d,k);b[n]=h}})(window,document,"script","branch",function(b,r){b[r]=function(){b._q.push([r,arguments])}},{_q:[],_v:1},"addListener applyCode banner closeBanner creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode".split(" "), 0);
        branch.init('key_test_amtw27wsxA2wo5cy7NTROenatBhky0ZU');
    </script>

<style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover, .MJXp-munder {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > *, .MJXp-munder > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>

<body class="ltr view-in-course view-statictab  lang_pt-br"><div id="MathJax_Message" style="display: none;"></div>


<div id="page-prompt"></div>
  <div class="window-wrap" dir="ltr">
    
    <a class="nav-skip sr-only sr-only-focusable" href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#main">Pular para o conteúdo principal</a>

        












<header class="global-header slim">
    <div class="main-header">
        







<h1 class="header-logo">
    <a href="https://courses.edx.org/dashboard">
      
        <img class="logo" src="./Design Recipes_files/logo.svg" alt="Página inicial do edX ">
      
    </a>
    <div class="course-header">
      <span class="provider">UBCx:</span>
      <span class="course-number">HtC1x</span>
      
      <span class="course-name">How to Code: Simple Data</span>
    </div>
</h1>

        <div class="hamburger-menu" role="button" aria-label="Options" menu="" aria-expanded="false" aria-controls="mobile-menu" tabindex="0">
            <span class="line"></span>
            <span class="line"></span>
            <span class="line"></span>
            <span class="line"></span>
        </div>
            








<div class="nav-links">
  <div class="main">

  </div>
  <div class="secondary">
    <div class="mobile-nav-item hidden-mobile nav-item">
        <a class="help-link" href="https://support.edx.org/" rel="noopener" target="_blank">Ajuda</a>
    </div>
    






<div class="nav-item hidden-mobile">
    <a href="https://courses.edx.org/dashboard" class="menu-title">
        <img data-hj-suppress="" class="user-image-frame" src="./Design Recipes_files/default_50.d29941819645.png" alt="">
        <span class="sr-only">Painel de controle para:</span>
        <span data-hj-suppress="" class="username">ahmbarreiros_cs-i0q1d6</span>
    </a>
</div>
<div class="nav-item hidden-mobile nav-item-dropdown" tabindex="-1">
    <div class="toggle-user-dropdown" role="button" aria-label="Options" menu="" aria-expanded="false" tabindex="0" aria-controls="user-menu">
        <span class="fa fa-caret-down" aria-hidden="true"></span>
    </div>
    <div class="dropdown-user-menu hidden" aria-label="More" options="" role="menu" id="user-menu" tabindex="-1">
            <div class="mobile-nav-item dropdown-item dropdown-nav-item"><a href="https://courses.edx.org/dashboard" role="menuitem">Painel de controle</a></div>

        <div class="mobile-nav-item dropdown-item dropdown-nav-item"><a href="https://courses.edx.org/u/ahmbarreiros_cs-i0q1d6" role="menuitem">Profile</a></div>
        <div class="mobile-nav-item dropdown-item dropdown-nav-item"><a href="https://courses.edx.org/account/settings" role="menuitem">Conta</a></div>
            <div class="mobile-nav-item dropdown-item dropdown-nav-item"><a href="https://orders.edx.org/orders" role="menuitem">Histórico de pedidos</a></div>
        <div class="mobile-nav-item dropdown-item dropdown-nav-item"><a href="https://courses.edx.org/logout" role="menuitem">Sair</a></div>
    </div>
</div>

  </div>
</div>

    </div>
    <div class="mobile-menu hidden" aria-label="More" options="" role="menu" id="mobile-menu"><div class="mobile-nav-item hidden-mobile nav-item mobile-nav-link">
        <a class="help-link" href="https://support.edx.org/" rel="noopener" target="_blank" role="menuitem">Ajuda</a>
    </div><div class="mobile-nav-item dropdown-item dropdown-nav-item mobile-nav-link"><a href="https://courses.edx.org/dashboard" role="menuitem">Painel de controle</a></div><div class="mobile-nav-item dropdown-item dropdown-nav-item mobile-nav-link"><a href="https://courses.edx.org/u/ahmbarreiros_cs-i0q1d6" role="menuitem">Profile</a></div><div class="mobile-nav-item dropdown-item dropdown-nav-item mobile-nav-link"><a href="https://courses.edx.org/account/settings" role="menuitem">Conta</a></div><div class="mobile-nav-item dropdown-item dropdown-nav-item mobile-nav-link"><a href="https://orders.edx.org/orders" role="menuitem">Histórico de pedidos</a></div><div class="mobile-nav-item dropdown-item dropdown-nav-item mobile-nav-link"><a href="https://courses.edx.org/logout" role="menuitem">Sair</a></div></div>
</header>

<!--[if lte IE 9]>
<div class="ie-banner" aria-hidden="true"><strong>Warning:</strong> Your browser is not fully supported. We strongly recommend using <a href="https://www.google.com/chrome" rel="noopener" target="_blank">Chrome</a> or <a href="http://www.mozilla.org/firefox" rel="noopener" target="_blank">Firefox</a>.</div>
<![endif]-->




        








    










    <div class="marketing-hero"></div>

    <div class="content-wrapper main-container" id="content" dir="ltr">
      






















    
    
<script type="text/javascript" src="./Design Recipes_files/lms-proctoring.67a21fdd5640.js.download" charset="utf-8"></script>


        <script type="text/template" id="proctored-exam-status-tpl">
            <div class="exam-timer">
    <%
        function gtLtEscape(str) {
            return String(str)
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
        }
    %>
    <div id="turn_in_exam_id" class="pull-right turn_in_exam" role="region" aria-label="<%- gettext('Exam timer and end exam button')%>">
        <span>
            <% if(attempt_status !== 'ready_to_submit') {%>
                <button class="exam-button-turn-in-exam btn btn-pl-primary btn-primary">
                    <%- gettext("End My Exam") %>
                </button>
            <% } %>
        </span>
        <span class="sr timer-announce" aria-live="assertive"></span>
        <span class="exam-timer-clock">
            <h3 id="time_remaining_id">
                <b>
                </b>
            </h3>
            <button role="button" id="toggle_timer" class="btn btn-primary" aria-label="<%- gettext("Hide Timer") %>" aria-pressed="false">
                <i class="fa fa-eye-slash" aria-hidden="true"></i>
            </button>
        </span>
    </div>
    <div class='exam-text js-exam-text' data-show-long="true">
        <% // xss-lint: disable=underscore-not-escaped %>
        <%= interpolate_text(gettext('You are taking "{exam_link}" as {exam_type}. '), {exam_link: "<a href='" + exam_url_path + "'>"+gtLtEscape(exam_display_name)+"</a>", exam_type: (!_.isUndefined(arguments[0].exam_type)) ? exam_type : gettext('a timed exam')}) %>
        <span class="js-exam-additional-text" aria-hidden="false">
            <%- gettext('The timer on the right shows the time remaining in the exam.') %>
            <%- gettext('To receive credit for problems, you must select "Submit" for each problem before you select "End My Exam".') %>
        </span>
        <button class="js-toggle-show-more btn btn-link" data-show-more-text="<%- gettext('Show More') %>" data-show-less-text="<%- gettext('Show Less') %>">
            <%- gettext('Show Less') %>
        </button>
    </div>
</div>

        </script>
    <div class="proctored_exam_status"></div>

    
        <nav class="static_tab_77860a93562d40bda45e452ea064998b wrapper-course-material" aria-label="Material do Curso">
            <div class="course-material">
                
                <ol class="tabs course-tabs">
                    





  
  <li class="tab">
  <a href="https://learning.edx.org/course/course-v1:UBCx+HtC1x+2T2017/home" class="">
  Curso
  </a>
  </li>
  
  <li class="tab">
  <a href="https://learning.edx.org/course/course-v1:UBCx+HtC1x+2T2017/progress" class="">
  Progresso
  </a>
  </li>
  
  <li class="tab">
  <a href="https://learning.edx.org/course/course-v1:UBCx+HtC1x+2T2017/dates" class="">
  Datas
  </a>
  </li>
  
  <li class="tab">
  <a href="https://discussions.edx.org/course-v1:UBCx+HtC1x+2T2017/" class="">
  Discussão
  </a>
  </li>
  
  <li class="tab">
  <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/edxnotes/" class="">
  Anotações
  </a>
  </li>
  
  <li class="tab">
  <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/" class="active">
  Design Recipes
      <span class="sr">, current location</span>
  </a>
  </li>
  
  <li class="tab">
  <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/a24b7341216346f2a5c99c6391f64229/" class="">
  Idioma
  </a>
  </li>
  
  <li class="tab">
  <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/fefe3e39d3564db8a767c39187141f07/" class="">
  Problem Bank
  </a>
  </li>
  
  <li class="tab">
  <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/d192723b104b4c8093aa0c0fc117e97f/" class="">
  Glossary
  </a>
  </li>
  
  <li class="tab">
  <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/86a7af433b134f0a952b5614f5ad9a78/" class="">
  Style Rules
  </a>
  </li>

                    
                </ol>
            </div>
        </nav>


  

    <link href="./Design Recipes_files/lms-style-student-notes.a35233ec9b00.css" rel="stylesheet" type="text/css">




<main id="main" aria-label="Content" tabindex="-1">
    <section class="container">
    <section class="container">
      <div class="static_tab_wrapper">
        
<div class="xblock xblock-student_view xblock-student_view-static_tab xmodule_display xmodule_StaticTabBlock" data-course-id="course-v1:UBCx+HtC1x+2T2017" data-init="XBlockToXModuleShim" data-runtime-class="LmsRuntime" data-runtime-version="1" data-block-type="static_tab" data-usage-id="block-v1:UBCx+HtC1x+2T2017+type@static_tab+block@77860a93562d40bda45e452ea064998b" data-request-token="029d8402e5f011edac0825e7c8b11daf" data-graded="False" data-has-score="False">
  <script type="json/xblock-args" class="xblock-json-init-args">
    {"xmodule-type": "HTMLModule"}
  </script>
  <p>
<script src="./Design Recipes_files/jquery.js.download"></script>
<script>// <![CDATA[
$(function(){
      $("#includedContent").load("https://s3.amazonaws.com/edx-course-spdx-kiczales/HTC/Pages/design-recipes.html");
    });
// ]]></script>
</p>
<div id="includedContent"><p><a name="top"></a></p>
<h2>DESIGN RECIPES</h2>
<p>In this course, we teach an approach to program design based on design recipes. Each recipe is applicable to certain problems, and systematizes the process of designing solutions to those problems.</p>
<p>There are three core recipes that are used most frequently. The templating recipes are used as part of the design of every data definition and function. Abstraction recipes are used to reduce redundancy in code.</p>
<p>There is also a&nbsp;<a href="https://s3.amazonaws.com/edx-course-spdx-kiczales/HTC/recipe-checklist.pdf">checklist</a> to help you remember the recipe steps.</p>
<table title="Design Recipes" border="1" cellpadding="8" style="border: 1px solid #000000; padding: 8px; text-align: left; horizontal-align: left; vertical-align: top; max-width: 90%;">
<tbody></tbody>
<thead>
<tr><th rowspan="2" scope="col" width="28%">Core Recipes</th><th rowspan="1" colspan="2" scope="col" width="50%" style="text-align: center;">Templating</th><th rowspan="2" scope="col">Abstraction</th></tr>
<tr><th scope="col" width="25%">Data Driven</th><th scope="col" width="25%">Control Driven</th></tr>
</thead>
<tbody>
<tr>
<td><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#HtDF">How to Design Functions (HtDF)</a> <br> <small>Design any function.</small></td>
<td><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#Data">Data Driven Templates</a><br> <small> Produce template for a data definition based on the form of the type comment. </small></td>
<td><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#FuncComp">Function Composition</a></td>
<td><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#Examples">From Examples</a> <br> <small> Produce an abstract function given two similar functions. </small></td>
</tr>
<tr>
<td><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#HtDD">How to Design Data (HtDD)</a> <br> <small> Produce data definitions based on structure of the information to be represented. </small></td>
<td><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#2One-of">2 One-of Data</a> <br> <small> Functions where 2 arguments have a one-of in their type comments. </small></td>
<td><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#Backtrack">Backtracking Search</a></td>
<td><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#Type">From Type Comments</a> <br> <small> Produce a fold function given type comments. </small></td>
</tr>
<tr>
<td><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#HtDW">How to Design Worlds (HtDW)</a> <br> <small> Produce interactive programs that use <tt>big-bang</tt>.</small></td>
<td rowspan="2"></td>
<td><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#GenRec">Generative Recursion</a></td>
<td></td>
</tr>
<tr>
<td rowspan="2"></td>
<td><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#Accumulators">Accumulators</a></td>
<td><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#Using">Using Abstract Functions</a></td>
</tr>
<tr>
<td colspan="2" scope="col" style="text-align: center;"><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#TempBlend">Template Blending</a></td>
<td></td>
</tr>
</tbody>
</table>
<p><br> <!----------------------------------------------------------------------------------></p>
<p></p>
<p><a name="HtDF"></a></p>
<hr><hr><hr>
<div align="right"><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#top">Back to Design Recipes Table</a></div>
<h2>How To Design Functions (HtDF)</h2>
<p>The How to Design Functions (HtDF) recipe is a <strong>design method</strong> that enables systematic design of functions. We will use this recipe throughout the term, although we will enhance it as we go to solves more complex problems.</p>
<table summary="Steps of the HtDF Recipe." border="1" cellpadding="5" style="border: 1px solid #000000; padding: 5px; text-align: left; horizontal-align: left; vertical-align: top; max-width: 90%;">
<tbody>
<tr style="text-align: left;">
<td>
<p>The HtDF recipe consists of the following steps:</p>
<ol>
<li><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#S1">Signature, purpose and stub.</a></li>
<li><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#S2">Define examples, wrap each in <tt>check-expect</tt>.</a></li>
<li><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#S3">Template and inventory.</a></li>
<li><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#S4">Code the function body.</a></li>
<li><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#S5">Test and debug until correct</a></li>
</ol>NOTE:
<ul>
<li>Each of these steps build on the ones that precede it. The signature helps write the purpose, the stub, and the check-expects; it also helps code the body. The purpose helps write the check-expects and code the body. The stub helps to write the check-expects. The check-expects help to code the body as well as to test the complete design.</li>
<li>It is sometimes helpful to do the steps in a different order. Sometimes it is easier to write examples first, then do signature and purpose. Often at some point during the design you may discover an issue or boundary condition you did not anticipate, at that point go back and update the purpose and examples accordingly. But you should never write the function definition first and then go back and do the other recipe elements -- for some of you that will work for simple functions, but you will not be able to do that for the complex functions later in the course!</li>
<li>Throughout the HtDF process be sure to "run early and run often". Run your program whenever it is well-formed. The more often you press run the sooner you can find mistakes. Finding mistakes one at a time is much easier than waiting until later when the mistakes can compound and be more confusing. Run, run, run!</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p></p>
<p><a name="S1"></a></p>
<h4>Signature, purpose and stub.</h4>
<p>Write the function signature, a one-line purpose statement and a function stub.</p>
<p>A signature has the type of each argument, separated by spaces, followed by <tt>-&gt;</tt>, followed by the type of result. So a function that consumes an image and produces a number would have the signature <tt>Image -&gt; Number</tt>.</p>
<p>Note that the stub is a syntactically complete function definition that produces a value of the right type. If the type is Number it is common to use 0, if the type is String it is common to use "a" and so on. The value will not, in general, match the purpose statement. In the example below the stub produces 0, which is a Number, but only matches the purpose when double happens to be called with 0.</p>
<pre>;; Number -&gt; Number
;; produces n times 2

(define (double n)  0)  ; this is the stub</pre>
<p>The purpose of the stub is to serve as a kind of scaffolding to make it possible to run the examples even before the function design is complete. With the stub in place check-expects that call the function can run. Most of them will fail of course, but the fact that they can run at all allows you to ensure that they are at least well-formed: parentheses are balanced, function calls have the proper number of arguments, function and constant names are correct and so on. This is very important, the sooner you find a mistake -- even a simple one -- the easier it is to fix.</p>
<p><a name="S2"></a></p>
<h4>Define examples, wrap each one in check-expect.</h4>
<p>Write at least one example of a call to the function and the expected result the call should produce.</p>
<p>You will often need more examples, to help you better understand the function or to properly test the function. (If once your function works and you run the program some of the code is highlighted in black it means you definitely do not have enough examples.) If you are unsure how to start writing examples use the combination of the function signature and the data definition(s) to help you generate examples. Often the example data from the data definition is useful, but it does not necessarily cover all the important cases for a particular function.</p>
<p>The first role of an example is to help you understand what the function is supposed to do. If there are boundary conditions be sure to include an example of them. If there are different behaviours the function should have, include an example of each. Since they are examples first, you could write them in this form:</p>
<pre>;; (double 0) should produce 0
;; (double 1) should produce 2
;; (double 2) should produce 4</pre>
<p>When you write examples it is sometimes helpful to write not just the expected result, but also how it is computed. For example, you might write the following instead of the above:</p>
<pre>;; (double 0) should produce (* 0 2)
;; (double 1) should produce (* 1 2)
;; (double 2) should produce (* 2 2)</pre>
<p>While the above form satisfies our need for examples, DrRacket gives us a better way to write them, by enclosing them in check-expect. This will allow DrRacket to check them automatically when the function is complete. (In technical terms it will turn the examples into unit tests.)</p>
<pre>;; Number -&gt; Number
;; produces n times 2
(check-expect (double 0) (* 0 2))
(check-expect (double 1) (* 1 2))
(check-expect (double 3) (* 3 2))

(define (double n)  0)  ; this is the stub</pre>
<p>The existence of the stub will allow you to run the tests. Most (or even all) of the tests will fail since the stub is returning the same value every time. But you will at least be able to check that the parentheses are balanced, that you have not misspelled function names etc.</p>
<p><a name="S3"></a></p>
<h4>Template and inventory</h4>
<p>Before coding the function body it is helpful to have a clear sense of what the function has to work with -- what is the contents of your bag of parts for coding this function? The template provides this.</p>
<p><!--- Note how the following avoids saying "week 2/3" but instead uses the --> <!--- the symbolic term "once HtDD is introduced". That's crucial so that  --> <!--- when things move from week to week there aren't problems.            --></p>
<p>Once the How to Design Data Definitions (HtDD) recipe in introduced, templates are produced by following the rules on the <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#Data">Data Driven Templates</a> web page. You should copy the template from the data definition to the function design, rename the template, and write a comment that says where the template was copied from. Note that the template is copied from the data definition for the consumed type, not the produced type.</p>
<p>For primitive data like numbers, strings and images the body of the template is simply <tt>(... x)</tt> where x is the name of the parameter to the function.</p>
<p>Once the template is done the stub should be commented out.</p>
<pre>;; Number -&gt; Number
;; produces n times 2
(check-expect (double 0) (* 0 2))
(check-expect (double 1) (* 1 2))
(check-expect (double 3) (* 3 2))

;(define (double n) 0) ; this is the stub

(define (double n)     ; this is the template
  (... n))</pre>
<p>It is also often useful to add constant values which are extremely likely to be useful to the template body at this point. For example, the template for a function that renders the state of a world program might have an MTS constant added to its body. This causes the template to include an inventory of useful constants.</p>
<p><a name="S4"></a></p>
<h4>Code the function body</h4>
<p>Now complete the function body by filling in the template.</p>
<p>Note that:</p>
<ul>
<li>the signature tells you the type of the parameter(s) and the type of the data the function body must produce</li>
<li>the purpose describes what the function body must produce in English</li>
<li>the examples provide several concrete examples of what the function body must produce</li>
<li>the template tells you the raw material you have to work with</li>
</ul>
<p>You should use all of the above to help you code the function body. In some cases further rewriting of examples might make it more clear how you computed certain values, and that may make it easier to code the function.</p>
<pre>;; Number -&gt; Number
;; produces n times 2
(check-expect (double 0) (* 0 2))
(check-expect (double 1) (* 1 2))
(check-expect (double 3) (* 3 2))

;(define (double n) 0) ; this is the stub

;(define (double n)    ; this is the template
;  (... n))

(define (double n)
  (* n 2))</pre>
<p><a name="S5"></a></p>
<h4>Test and debug until correct</h4>
<p>Run the program and make sure all the tests pass, if not debug until they do. Many of the problems you might have had will already have been fixed because of following the "run early, run often" approach. But if not, debug until everything works.</p>
<p><a name="HtDD"></a> <!----------------------------------------------------------------------------------------></p>
<hr><hr><hr>
<div align="right"><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#top">Back to Design Recipes Table</a></div>
<h2>How To Design Data (HTDD)</h2>
<p>Data definitions are a driving element in the design recipes.</p>
<p>A data definition establishes the represent/interpret relationship between information and data:</p>
<ul>
<li>Information in the program's domain is represented by data in the program.</li>
<li>Data in the program can be interpreted as information in the program's domain.</li>
</ul>
<p>A data definition must describe how to form (or make) data that satisfies the data definition and also how to tell whether a data value satisfies the data definition. It must also describe how to represent information in the program's domain as data and interpret a data value as information.</p>
<p>So, for example, one data definition might say that numbers are used to represent the <tt>Speed</tt> of a ball. Another data definition might say that numbers are used to represent the <tt>Height</tt> of an airplane. So given a number like 6, we need a data definition to tell us how to interpret it: is it a <tt>Speed</tt>, or a <tt>Height</tt> or something else entirely. Without a data definition, the 6 could mean anything.</p>
<table title="Data Definitions." border="1" cellpadding="15" style="border: 1px solid #000000; padding: 15px; text-align: left; horizontal-align: left; vertical-align: top; max-width: 90%;">
<tbody>
<tr>
<td>
<p>The first step of the recipe is to identify the inherent structure of the information.</p>
<p>Once that is done, a data definition consists of four or five elements:</p>
<ol>
<li>A possible <strong>structure definition</strong> (not until compound data)</li>
<li>A <strong>type comment</strong> that defines a new type name and describes how to form data of that type.</li>
<li>An <strong>interpretation</strong> that describes the correspondence between information and data.</li>
<li>One or more <strong>examples</strong> of the data.</li>
<li>A <strong>template</strong> for a 1 argument function operating on data of this type.</li>
</ol>
<p><emph>In the first weeks of the course we also ask you to include a list of the <strong>template rules</strong> used to form the template.</emph></p>
<p></p>
</td>
</tr>
</tbody>
</table>
<p></p>
<hr><hr>
<h3>What is the Inherent Structure of the Information?</h3>
<p>One of the most important points in the course is that:</p>
<ul>
<li>the <strong>structure of the information</strong> in the program's domain determines the kind of data definition used,</li>
<li>which in turn determines <strong>the structure of the templates</strong> and helps determine the function examples (<tt>check-expect</tt>s),</li>
<li>and therefore the <strong>structure of much of the final program design</strong>.</li>
</ul>
<p>The remainder of this page lists in detail different kinds of data definition that are used to represent information with different structures. The page also shows in detail how to design a data definition of each kind. This summary table provides a quick reference to which kind of data definition to use for different information structures.</p>
<table cellpadding="5" border="1" frame="box" summary="Contents" rules="all" style="border: 1px solid #000000; horizontal-align: left; text-align: left; vertical-align: top;">
<tbody>
<tr style="text-align: left;"></tr>
</tbody>
<thead>
<tr><th>When the form of the information to be represented...</th><th>Use a data definition of this kind</th></tr>
</thead>
<tbody>
<tr>
<td>is atomic</td>
<td><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#Atomic">Simple Atomic Data</a></td>
</tr>
<tr>
<td>is numbers within a certain range</td>
<td><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#Interval">Interval</a></td>
</tr>
<tr>
<td>consists of a fixed number of distinct items</td>
<td><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#Enumeration">Enumeration</a></td>
</tr>
<tr>
<td>is comprised of 2 or more subclasses, at least one of which is not a distinct item</td>
<td><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#Itemization">Itemization</a></td>
</tr>
<tr>
<td>consists of two or more items that naturally belong together</td>
<td><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#Compound">Compound data</a></td>
</tr>
<tr>
<td>is naturally composed of different parts</td>
<td><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#Reference" title="Link: #S6">References to other defined type</a></td>
</tr>
<tr>
<td>is of arbitrary (unknown) size</td>
<td><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#Self-Reference">self-referential or mutually referential</a></td>
</tr>
</tbody>
</table>
<p></p>
<hr><hr>
<h3>Simple Atomic Data</h3>
<p>Use simple atomic data <strong>when the information to be represented is itself atomic in form</strong>, such as the elapsed time since the start of the animation, the x coordinate of a car or the name of a cat.</p>
<table title="Time Data Definition" border="none" cellpadding="10" style="border: 0px solid #000000; padding: 10px;">
<tbody>
<tr>
<td>
<pre>;; Time is Natural
;; interp. number of clock ticks since start of game

(define START-TIME 0)
(define OLD-TIME 1000)

#;
(define (fn-for-time t)
  (... t))

;; Template rules used:
;;  - atomic non-distinct: Natural
</pre>
</td>
</tr>
</tbody>
</table>
<h4>Forming the Template</h4>
<p>As noted below the template, it is formed according to the <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#Data">Data Driven Templates recipe</a> using the right hand column of the atomic non-distinct rule.</p>
<h4>Guidance on Data Examples and Function Example/Tests</h4>
<p>One or two data examples are usually sufficient for simple atomic data.</p>
<p>When creating example/tests for a specific function operating on simple atomic data at least one test case will be required. Additional tests are required if there are multiple cases involved. If the function produces <tt>Boolean</tt> there needs to be at least a <tt>true</tt> and <tt>false</tt> test case. Also be on the lookout for cases where a number of some form is an <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#Interval">interval</a> in disguise, for example given a type comment like <tt>Countdown is Natural</tt>, in some functions <tt>0</tt> is likely to be a special case.</p>
<p><br> <a id="Interval"></a></p>
<h3>Intervals</h3>
<p>Use an interval when the information to be represented is numbers within a certain range. <tt>Integer[0, 10]</tt> is all the integers from 0 to 10 inclusive; <tt>Number[0, 10)</tt> is all the numbers from 0 inclusive to 10 exclusive. (The notation is that [ and ] mean that the end of the interval includes the end point; ( and ) mean that the end of the interval does not include the end point.)</p>
<p>Intervals often appear in <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#Itemization">itemizations</a>, but can also appear alone, as in:</p>
<table title="Countdown Data Definition" border="none" cellpadding="10" style="border: 0px solid #000000; padding: 10px;">
<tbody>
<tr>
<td>
<pre>;; Countdown is Integer[0, 10]
;; interp. the number of seconds remaining to liftoff
(define C1 10)  ; start
(define C2 5)   ; middle
(define C3 0)   ; end
 
#;
(define (fn-for-countdown cd)
  (... cd))

;; Template rules used:
;;  - atomic non-distinct: Integer[0, 10]
</pre>
</td>
</tr>
</tbody>
</table>
<h4>Forming the Template</h4>
<p>As noted below the template, it is formed according to the <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#Data">Data Driven Templates recipe</a> using the right hand column of the atomic non-distinct rule.</p>
<h4>Guidance on Data Examples and Function Example/Tests</h4>
<p>For data examples provide sufficient examples to illustrate how the type represents information. The three data examples above are probably more than is needed in that case.</p>
<p>When writing tests for functions operating on intervals be sure to test closed boundaries as well as midpoints. As always, be sure to include enough tests to check all other points of variance in behaviour across the interval.</p>
<p><br> <a id="Enumeration"></a></p>
<h3>Enumerations</h3>
<p>Use an enumeration <strong>when the information to be represented consists of a fixed number of distinct items</strong>, such as colors, letter grades etc. The data used for an enumeration could in principle be anything - strings, integers, images even. But we always use strings. In the case of enumerations it is sometimes redundant to provide an interpretation and nearly always redundant to provide examples. The example below includes the interpretation but not the examples.</p>
<table title="TLColor Data Definition" border="none" cellpadding="10" style="border: 0px solid #000000; padding: 10px;">
<tbody>
<tr>
<td>
<pre>;; LightState is one of:
;;  - "red"
;;  - "yellow"
;;  - "green"
;; interp. the color of a traffic light

;; &lt;examples are redundant for enumerations&gt;
 
#;
(define (fn-for-light-state ls)
  (cond [(string=? "red" ls) (...)]
        [(string=? "yellow" ls) (...)]
        [(string=? "green" ls) (...)]))
;; Template rules used:
;;  - one of: 3 cases
;;  - atomic distinct: "red"
;;  - atomic distinct: "yellow"
;;  - atomic distinct: "green"
</pre>
</td>
</tr>
</tbody>
</table>
<h4>Forming the Template</h4>
<p>As noted below the template, it is formed according to the <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#Data">Data Driven Templates recipe</a> as follows:</p>
<p>First, <tt>LightState</tt> is an enumeration with 3 cases, so the <i>one of rule</i> says to use a <tt>cond</tt> with 3 cases:</p>
<table title="TLColor Template" border="none" cellpadding="10" style="border: 0px solid #000000; padding: 10px;">
<tbody>
<tr>
<td>
<pre>(define (fn-for-tlcolor ls)
  (cond [Q1 A1]
        [Q2 A2]
        [Q3 A3])) 
</pre>
</td>
</tr>
</tbody>
</table>
<p>In the first clause, <tt>"red"</tt> is a distinct atomic value, so the <tt>cond</tt> question column of the <i>atomic distinct rule</i> says Q1 should be <tt>(string=? ls "red")</tt>. The cond answer column says A1 should be <tt>(...)</tt>. So we have:</p>
<table title="TLColor Template" border="none" cellpadding="10" style="border: 0px solid #000000; padding: 10px;">
<tbody>
<tr>
<td>
<pre>(define (fn-for-light-state ls)
  (cond [(string=? "red" ls) (...)]
        [Q2 A2]
        [Q3 A3])) 
</pre>
</td>
</tr>
</tbody>
</table>
<p>Then <tt>"yellow"</tt> and <tt>"green"</tt> are also distinct atomic values, so the final template is:</p>
<table title="TLColor Template" border="none" cellpadding="10" style="border: 0px solid #000000; padding: 10px;">
<tbody>
<tr>
<td>
<pre>(define (fn-for-light-state ls) 
  (cond [(string=? "red" ls) (...)]
        [(string=? "yellow" ls) (...)]
        [(string=? "green" ls) (...)]))
</pre>
</td>
</tr>
</tbody>
</table>
<h4>Guidance on Data Examples and Function Example/Tests</h4>
<p>Data examples are redundant for enumerations.</p>
<p>Functions operating on enumerations should have (at least) as many tests as there are cases in the enumeration.</p>
<h4>Large Enumerations</h4>
<p>Some enumerations contain a large number of elements. A canonical example is <tt>KeyEvent</tt>, which is provided as part of big-bang. <tt>KeyEvent</tt> includes all the letters of the alphabet as well as other keys you can press on the keyboard. It is not necessary to write out all the cases for such a data definition. Instead write one or two, as well as a comment saying what the others are, where they are defined etc.</p>
<p>Defer writing templates for such large enumerations until a template is needed for a specific function. At that point include the specific cases that function cares about. Be sure to include an else clause in the template to handle the other cases. As an example, some functions operating on <tt>KeyEvent</tt> may only care about the space key and just ignore all other keys, the following would be an appropriate template for such functions.</p>
<table title="KeyEvent template" border="none" cellpadding="10" style="border: 0px solid #000000; padding: 10px;">
<tbody>
<tr>
<td>
<pre>#;
(define (fn-for-key-event kevt)
  (cond [(key=? " " kevt) (...)]
        [else
         (...)]))
;; Template formed using the large enumeration special case
</pre>
</td>
</tr>
</tbody>
</table>
<p>The same is true of writing tests for functions operating on large enumerations. All the specially handled cases must be tested, in addition one more test is required to check the else clause.</p>
<p><br> <a id="Itemization"></a></p>
<h3>Itemizations</h3>
<p>An itemization describes <strong>data comprised of 2 or more subclasses, at least one of which is not a distinct item</strong>. (C.f. enumerations, where the subclasses are <strong>all</strong> distinct items.) In an itemization the template is similar to that for enumerations: a cond with one clause per subclass. In cases where the subclass of data has its own data definition the answer part of the cond clause includes a call to a helper template, in other cases it just includes the parameter.</p>
<table title="Bird Data Definition" border="none" cellpadding="10" style="border: 0px solid #000000; padding: 10px;">
<tbody>
<tr>
<td>
<pre>;; Bird is one of:
;;  - false
;;  - Number
;; interp. false means no bird, number is x position of bird

(define B1 false)
(define B2 3) 

#;
(define (fn-for-bird b)
  (cond [(false? b) (...)]
        [(number? b) (... b)]))
;; Template rules used:
;;  - one of: 2 cases
;;  - atomic distinct: false
;;  - atomic non-distinct: Number
</pre>
</td>
</tr>
</tbody>
</table>
<h4>Forming the Template</h4>
<p>As noted below the template, it is formed according to the <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#Data">Data Driven Templates recipe</a> using the <i>one-of rule</i>, the <i>atomic distinct rule</i> and the <i>atomic non-distinct rule</i> in order.</p>
<h4>Guidance on Data Examples and Function Example/Tests</h4>
<p>As always, itemizations should have enough data examples to clearly illustrate how the type represents information.</p>
<p>Functions operating on itemizations should have at least as many tests as there are cases in the itemizations. If there are intervals in the itemization, then there should be tests at all points of variance in the interval. In the case of adjoining intervals it is critical to test the boundaries.</p>
<h4>Itemization of Intervals</h4>
<p>A common case is for the itemization to be comprised of 2 or more intervals. In this case functions operating on the data definition will usually need to be tested at all the boundaries of closed intervals and points between the boundaries.</p>
<table title="Reading Data Definition" border="none" cellpadding="10" style="border: 0px solid #000000; padding: 10px;">
<tbody>
<tr>
<td>
<pre>;;; Reading is one of:
;;  - Number[&gt; 30]      
;;  - Number(5, 30]     
;;  - Number[0, 5]      
;; interp. distance in centimeters from bumper to obstacle
;;    Number[&gt; 30]    is considered "safe"
;;    Number(5, 30]   is considered "warning"
;;    Number[0, 5]    is considered "dangerous"
(define R1 40)
(define R2 .9)

(define (fn-for-reading r)
  (cond [(&lt; 30 r) (... r)]
        [(and (&lt;  5 r) (&lt;= r  30)) (... r)]
        [(&lt;= 0 r 5) (... r)]))

;; Template rules used:
;;  one-of: 3 cases
;;  atomic non-distinct:  Number[&gt;30]
;;  atomic non-distinct:  Number(5, 30]
;;  atomic non-distinct:  Number[0, 5]
</pre>
</td>
</tr>
</tbody>
</table>
<p>As noted below the template, it is formed according to the <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#Data">Data Driven Templates recipe</a> using the <i>one-of rule</i>, followed by 3 uses of the <i>atomic non-distinct rule</i>.</p>
<p><br> <a id="Compound"></a></p>
<h3>Compound data (structures)</h3>
<p>Use structures when two or more values naturally belong together. The define-struct goes at the beginning of the data definition, before the types comment.</p>
<table title="Ball Data Definition" border="none" cellpadding="10" style="border: 0px solid #000000; padding: 10px;">
<tbody>
<tr>
<td>
<pre>(define-struct ball (x y))
;; Ball is (make-ball Number Number)
;; interp. a ball at position x, y 

(define BALL-1 (make-ball 6 10))

#;
(define (fn-for-ball b)
  (... (ball-x b)     ;Number
       (ball-y b)))   ;Number
;; Template rules used:
;;  - compound: 2 fields
</pre>
</td>
</tr>
</tbody>
</table>
<p>The template above is formed according to the <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#Data">Data Driven Templates recipe</a> using the compound rule. Then for each of the selectors, the result type of the selector (Number in the case of ball-x and ball-y) is used to decide whether the selector call itself should be wrapped in another expression. In this case, where the result types are primitive, no additional wrapping occurs. C.f. cases below when the reference rule applies.</p>
<h4>Guidance on Data Examples and Function Example/Tests</h4>
<p>For compound data definitions it is often useful to have numerous examples, for example to illustrate special cases. For a snake in a snake game you might have an example where the snake is very short, very long, hitting the edge of a box, touching food etc. These data examples can also be useful for writing function tests because they save space in each <tt>check-expect</tt>.</p>
<p><br> <a id="Reference"></a></p>
<h3>References to other data definitions</h3>
<p>Some data definitions contain references to other data definitions you have defined (non-primitive data definitions). One common case is for a compound data definition to comprise other named data definitions. (Or, once lists are introduced, for a list to contain elements that are described by another data definition. In these cases the template of the first data definition should contain calls to the second data definition's template function wherever the second data appears. For example:</p>
<table title="Game Data Definition" border="none" cellpadding="10" style="border: 0px solid #000000; padding: 10px;">
<tbody>
<tr>
<td>
<pre>---assume Ball is as defined above---

(define-struct game (ball score))
;; Game is (make-game Ball Number) 

;; interp. the current ball and score of the game

(define GAME-1 (make-game (make-ball 1 5) 2))

#;
(define (fn-for-game g)
  (... (fn-for-ball (game-ball g))
       (game-score g)))      ;Number
;; Template rules used:
;;  - compound: 2 fields
;;  - reference: ball field is Ball
</pre>
</td>
</tr>
</tbody>
</table>
<p>In this case the template is formed according to the <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#Data">Data Driven Templates recipe</a> by first using the <i>compound rule</i>. Then, since the result type of <tt>(game-ball g)</tt> is Ball, the <i>reference rule</i> is used to wrap the selector so that it becomes <tt>(fn-for-ball (game-ball g))</tt>. The call to <tt>game-score</tt> is not wrapped because it produces a primitive type.</p>
<h4>Guidance on Data Examples and Function Example/Tests</h4>
<p>For data definitions involving references to non-primitive types the data examples can sometimes become quite long. In these cases it can be helpful to define well-named constants for data examples for the referred to type and then use those constants in the referring from type. For example:</p>
<pre>...in the data definition for Drop...
(define DTOP (make-drop 10 0))            ;top of screen
(define DMID (make-drop 20 (/ HEIGHT 2))) ;middle of screen
(define DBOT (make-drop 30 HEIGHT))       ;at bottom edge
(define DOUT (make-drop 40 (+ HEIGHT 1))) ;past bottom edge

...in the data definition for ListOfDrop...
(define LOD1 empty)
(define LOD-ALL-ON             (cons DTOP (cons DMID )))
(define LOD-ONE-ABOUT-TO-LEAVE (cons DTOP (cons DMID (cons DBOT empty))))
(define LOD-ONE-OUT-ALREADY    (cons DTOP (cons DMID (cons DBOT (cons DOUT empty)))))
</pre>
<p>In the case of references to non-primitive types the function operating on the referring type (i.e. <tt>ListOfDrop</tt>) will end up with a call to a helper that operates on the referred to type (i.e. <tt>Drop</tt>). Tests on the helper function should fully test that function, tests on the calling function may assume the helper function works properly.</p>
<p><br> <a id="Self-Reference"></a></p>
<h3>Self-referential or mutually referential</h3>
<p>When the <strong>information in the program's domain is of arbitrary size</strong>, a well-formed self-referential (or mutually referential) data definition is needed.</p>
<p>In order to be well-formed, a self-referential data definition must:</p>
<ul>
<li>(i) have at least one case without self reference (the base case(s))</li>
<li>(ii) have at least one case with self reference</li>
</ul>
<p>The template contains a base case corresponding to the non-self-referential clause(s) as well as one or more natural recursions corresponding to the self-referential clauses.</p>
<table title="ListOfString Data Definition" border="none" cellpadding="10" style="border: 0px solid #000000; padding: 10px;">
<tbody>
<tr>
<td>
<pre>;; ListOfString is one of:
;;  - empty
;;  - (cons String ListOfString)
;; interp. a list of strings

(define LOS-1 empty)
(define LOS-2 (cons "a" empty))
(define LOS-3 (cons "b" (cons "c" empty)))

#;
(define (fn-for-los los)
  (cond [(empty? los) (...)]                   ;BASE CASE
        [else (... (first los)                 ;String
                   (fn-for-los (rest los)))])) ;NATURAL RECURSION
;;             /
;;            /
;;       COMBINATION
;; Template rules used:
;;  - one of: 2 cases
;;  - atomic distinct: empty
;;  - compound: (cons String ListOfString)
;;  - self-reference: (rest los) is ListOfString
</pre>
</td>
</tr>
</tbody>
</table>
<p>In some cases a types comment can have both self-reference and reference to another type.</p>
<table title="Dot and ListOfDot Data Definitions" border="none" cellpadding="10" style="border: 0px solid #000000; padding: 10px;">
<tbody>
<tr>
<td>
<pre>(define-struct dot (x y))
;; Dot is (make-dot Integer Integer)
;; interp. A dot on the screen, w/ x and y coordinates.
(define D1 (make-dot 10 30))
#;
(define (fn-for-dot d)
  (... (dot-x d)   ;Integer
       (dot-y d))) ;Integer
;; Template rules used:
;;  - compound: 2 fields

;; ListOfDot is one of:
;;  - empty
;;  - (cons Dot ListOfDot)
;; interp. a list of Dot
(define LOD1 empty)
(define LOD2 (cons (make-dot 10 20) (cons (make-dot 3 6) empty)))
#;
(define (fn-for-lod lod)
  (cond [(empty? lod) (...)]
        [else
         (... (fn-for-dot (first lod))
              (fn-for-lod (rest lod)))]))

;; Template rules used:
;;  - one of: 2 cases
;;  - atomic distinct: empty
;;  - compound: (cons Dot ListOfDot)
;;  - reference: (first lod) is Dot 
;;  - self-reference: (rest lod) is ListOfDot
</pre>
</td>
</tr>
</tbody>
</table>
<h4>Guidance on Data Examples and Function Example/Tests</h4>
<p>When writing data and function examples for self-referential data definitions always put the base case first. Its usually trivial for data examples, but many function tests don't work properly if the base case isn't working properly, so testing that first can help avoid being confused by a failure in a non base case test. Also be sure to have a test for a list (or other structure) that is at least 2 long.</p>
<p><!--------------------------------------------------------------> <a name="HtDW"></a></p>
<hr><hr><hr>
<div align="right"><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#top">Back to Design Recipes Table</a></div>
<h2>How To Design Worlds (HtDW)</h2>
<p>The How to Design Worlds process provides guidance for designing interactive world programs using <tt>big-bang</tt>. While some elements of the process are tailored to <tt>big-bang</tt>, the process can also be adapted to the design of other interactive programs. The wish-list technique can be used in any multi-function program.</p>
<table summary="Steps of the HtDW Recipe." border="1" cellpadding="5" style="border: 1px solid #000000; padding: 5px; text-align: left; horizontal-align: left; vertical-align: top; max-width: 90%;">
<tbody>
<tr style="text-align: left;">
<td>
<p>World program design is divided into two phases, each of which has sub-parts:</p>
<ol>
<li>Domain analysis (use a piece of paper!)</li>
<ol>
<li>Sketch <emph>program scenarios</emph></li>
<li>Identify <emph>constant information</emph></li>
<li>Identify <emph>changing information</emph></li>
<li>Identify <emph>big-bang options</emph></li>
</ol>
<li>Build the actual program</li>
<ol>
<li>Constants (based on 1.2 above)</li>
<li>Data definitions using <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#HtDD">HtDD</a> (based on 1.3 above)</li>
<li>Functions using <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#HtDF">HtDF</a></li>
<ol>
<li>main first (based on 1.3, 1.4 and 2.2 above)</li>
<li><emph>wish list entries</emph>for <emph>big-bang handlers</emph></li>
</ol>
<li>Work through wish list until done</li>
</ol></ol></td>
</tr>
</tbody>
</table>
<h4>Phase 1: Domain Analysis</h4>
<p>Do a domain analysis by hand-drawing three or more pictures of what the world program will look like at different stages when it is running.</p>
<p>Use this picture to identify constant information such as the height and width of screen, color of the background, the background image itself, the length of a firework's fuse, the image for a moving cat and so on.</p>
<p>Also identify changing information such as the position of a firework, the color of a light, the number in countdown etc.</p>
<p>Identify which <tt>big-bang</tt> options the program needs.</p>
<table summary="big-bang options." border="1" cellpadding="5" style="border: 1px solid #000000; padding: 5px; text-align: left; horizontal-align: left; vertical-align: top; max-width: 90%;">
<thead>
<tr><th>If your program needs to:</th><th>Then it needs this option:</th></tr>
</thead>
<tbody>
<tr>
<td>change as time goes by (nearly all do)</td>
<td><tt>on-tick</tt></td>
</tr>
<tr>
<td>display something (nearly all do)</td>
<td><tt>to-draw</tt></td>
</tr>
<tr>
<td>change in response to key presses</td>
<td><tt>on-key</tt></td>
</tr>
<tr>
<td>change in response to mouse activity</td>
<td><tt>on-mouse</tt></td>
</tr>
<tr>
<td>stop automatically</td>
<td><tt>stop-when</tt></td>
</tr>
</tbody>
</table>
<p>(There are several more options to <tt>big-bang</tt>. Look in the DrRacket help desk under <tt>big-bang</tt> for a complete list.)</p>
<h4>Phase 2: Building the actual program</h4>
<p>Structure the actual program in four parts:</p>
<ol>
<li>Requires followed by one line summary of program's behavior</li>
<li>Constants</li>
<li>Data definitions</li>
<li>Functions</li>
</ol>
<p>The program should begin with whatever require declarations are required. For a program using <tt>big-bang</tt> this is usually a require for <tt>2htdp/universe</tt> to get <tt>big-bang</tt> itself and a require for <tt>2htdp/image</tt> to get useful image primitives. This is followed by a <span style="text-decoration: underline;">short</span> summary of the program's behavior (ideally 1 line).</p>
<p>The next section of the file should define constants. These will typically come directly from the domain analysis.</p>
<p>This is followed by data definitions. The data definitions describe how the world state - the changing information identified during the analysis - will be represented as data in the program. Simple world programs may have just a single data definition. More complex world programs have a number of data definitions.</p>
<p>The functions section should begin with the <tt>main</tt> function which uses <tt>big-bang</tt> with the appropriate options identified during the analysis. After that put the more important functions first followed by the less important helpers. Keep groups of closely related functions together.</p>
<h5>Template for a World Program</h5>
<p>A useful template for a world program, including a template for the main function and wish list entries for tick-handler and to-draw handler is as follows. To use this template replace WS with the appropriate type for your changing world state. You may want to give the handler functions more descriptive names and you should definitely give them all a more descriptive purpose.</p>
<pre>(require 2htdp/image)
(require 2htdp/universe)

;; My world program  (make this more specific)

;; =================
;; Constants:


;; =================
;; Data definitions:

;; WS is ... (give WS a better name)



;; =================
;; Functions:

;; WS -&gt; WS
;; start the world with ...
;; <no tests="" for="" main="" functions="">
(define (main ws)
  (big-bang ws                   ; WS
            (on-tick   tock)     ; WS -&gt; WS
            (to-draw   render)   ; WS -&gt; Image
            (stop-when ...)      ; WS -&gt; Boolean
            (on-mouse  ...)      ; WS Integer Integer MouseEvent -&gt; WS
            (on-key    ...)))    ; WS KeyEvent -&gt; WS

;; WS -&gt; WS
;; produce the next ...
;; !!!
(define (tock ws) ...)


;; WS -&gt; Image
;; render ... 
;; !!!
(define (render ws) ...)
</no></pre>
<p>Depending on which other big-bang options you are using you would also end up with wish list entries for those handlers. So, at an early stage a world program might look like this:</p>
<pre>(require 2htdp/universe)
(require 2htdp/image)

;; A cat that walks across the screen.

;; Constants:

(define WIDTH  200)
(define HEIGHT 200)

(define CAT-IMG (circle 10 "solid" "red")) ; a not very attractive cat

(define MTS (empty-scene WIDTH HEIGHT))


;; Data definitions:

;; Cat is Number
;; interp. x coordinate of cat (in screen coordinates)
(define C1 1)
(define C2 30)

#;
(define (fn-for-cat c)
  (... c))


;; Functions:

;; Cat -&gt; Cat
;; start the world with initial state c, for example: (main 0)
(define (main c)
  (big-bang c                         ; Cat
            (on-tick   tock)          ; Cat -&gt; Cat
            (to-draw   render)))      ; Cat -&gt; Image

;; Cat -&gt; Cat
;; Produce cat at next position
;!!!
(define (tock c) 1)  ;stub

;; Cat -&gt; Image
;; produce image with CAT-IMG placed on MTS at proper x, y position
; !!!
(define (render c) MTS)

</pre>
<p>Note that we are maintaining a <emph>wish list</emph>of functions that need to be designed. The way to maintain the wish list is to just write a signature, purpose and stub for each wished-for function, also label the <emph>wish list entry</emph>with <tt>!!!</tt> or some other marker that is easy to search for. That will help you find your unfilled wishes later.</p>
<p>Forming wish list entries this way is enough for <tt>main</tt> (or other functions that call a wished for function) to be defined without error. But of course <tt>main</tt> (and other such functions) will not run properly until the wished for functions are actually completely designed.</p>
<p>As you design the program remember to run early and run often. The sooner you can run the program after writing anything the sooner you can find any small mistakes that might be in it. Fixing the small mistakes earlier makes it easier to find any harder mistakes later.</p>
<h5>Key and Mouse Handlers</h5>
<p>The <tt>on-key</tt> and <tt>on-mouse</tt> handler function templates are handled specially. The <tt>on-key</tt> function is templated according to its second argument, a <tt>KeyEvent</tt>, using the large enumeration rule. The <tt>on-mouse</tt> function is templated according to its <tt>MouseEvent</tt> argument, also using the large enumeration rule. So, for example, for a key handler function that has a special behaviour when the space key is pressed but does nothing for any other key event the following would be the template:</p>
<pre>(define (handle-key ws ke)
  (cond [(key=? ke " ") (... ws)]
        [else 
         (... ws)]))
</pre>
<p>Similarly the template for a mouse handler function that has special behavior for mouse clicks but ignores all other mouse events would be:</p>
<pre>(define (handle-mouse ws x y me)
  (cond [(mouse=? me "button-down") (... ws x y)]
        [else
         (... ws x y)]))
</pre>
<p>For more information on the <tt>KeyEvent</tt> and <tt>MouseEvent</tt> large enumerations see the DrRacket help desk.</p>
<p><a name="Data"></a></p>
<hr><hr><hr>
<div align="right"><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#top">Back to Design Recipes Table</a></div>
<h2>Data Driven Templates</h2>
<p>Templates are the core structure that we know a function must have, independent of the details of its definition. In many cases the template for a function is determined by the type of data the function consumes. We refer to these as data driven templates. The recipe below can be used to produce a data driven template for any type comment.</p>
<p>For a given type <tt>TypeName</tt> the data driven template is:</p>
<table border="none" cellpadding="10" style="border: 0px solid #000000; padding: 10px;">
<tbody>
<tr>
<td>
<pre>(define (fn-for-type-name x)
  &lt;body&gt;)
</pre>
</td>
</tr>
</tbody>
</table>
<p>Where <tt>x</tt> is an appropriately chosen parameter name (often the initials of the type name) and the body is determined according to the table below. To use the table, start with the type of the parameter, i.e. TypeName, and select the row of the table that matches that type. The first row matches only primitive types, the later rows match parts of type comments.</p>
<p>(Note that when designing functions that consume additional atomic parameters, the name of that parameter gets added after every <tt>...</tt> in the template. Templates for functions with additional complex parameters are covered in <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#2One-of">Functions on 2 One-Of Data</a>.)</p>
<table border="1" cellpadding="5" style="text-align: left; vertical-align: text-top;">
<thead>
<tr><th style="width: 30%;">Type of data</th><th style="width: 25%;"><tt>cond</tt> question (if applicable)</th><th style="width: 45%;">Body or <tt>cond</tt> answer (if applicable)</th></tr>
</thead>
<tbody>
<tr style="text-align: left; vertical-align: text-top;">
<td>
<p><strong>Atomic Non-Distinct</strong></p>
<ul>
<li><tt>Number</tt></li>
<li><tt>String</tt></li>
<li><tt>Boolean</tt></li>
<li><tt>Image</tt></li>
<li>interval like <tt>Number[0, 10)</tt></li>
<li>etc.</li>
</ul>
</td>
<td>
<p>Appropriate predicate</p>
<ul>
<li><tt>(number? x)</tt></li>
<li><tt>(string? x)</tt></li>
<li><tt>(boolean? x)</tt></li>
<li><tt>(image? x)</tt></li>
<li><tt>(and (&lt;= 0 x)</tt><br> <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt; x 10))</tt></li>
<li>etc.</li>
</ul>
</td>
<td>
<p>Expression that operates on the parameter.</p>
<p><tt>(... x)</tt></p>
</td>
</tr>
<tr style="text-align: left; vertical-align: text-top;">
<td>
<p><strong>Atomic Distinct Value</strong></p>
<ul>
<li><tt>"red"</tt></li>
<li><tt>false</tt></li>
<li><tt>empty</tt></li>
<li>etc.</li>
</ul>
</td>
<td>
<p>Appropriate predicate</p>
<ul>
<li><tt>(string=? x "red")</tt></li>
<li><tt>(false? x)</tt></li>
<li><tt>(empty? x)</tt></li>
<li>etc.</li>
</ul>
</td>
<td>
<p>Since value is distinct, parameter does not appear.</p>
<p><tt>(...)</tt></p>
</td>
</tr>
<tr style="text-align: left; vertical-align: text-top;">
<td>
<p><strong>One Of</strong></p>
<ul>
<li>enumerations</li>
<li>itemizations</li>
</ul>
</td>
<td></td>
<td>
<p>Cond with one clause per subclass of one of.</p>
<p><tt>(cond [&lt;question1&gt; &lt;answer1&gt;]<br></tt> <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&lt;question2&gt; &lt;answer2&gt;])</tt></p>
<p>Where each question and answer expression is formed by following the rule in the question or answer column of this table for the corresponding case. A detailed derivation of a template for a one-of type appears below.</p>
<p>It is permissible to use <tt>else</tt> for the last question for itemizations and large enumerations. Normal enumerations should not use else.</p>
<p>Note that in a <i>mixed data itemization</i>, such as</p>
<p><tt>;; Measurement is one of:</tt><br> <tt>;; - Number[-10, 0)</tt><br> <tt>;; - true</tt><br> <tt>;; - Number(0, 10]</tt></p>
<p>the cond questions must be <strong>guarded</strong> with an appropriate type predicate. In particular, the first cond question for <tt>Measurement</tt> must be</p>
<p><tt>(and (number? m)</tt><br> <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;= -10 m)</tt><br> <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&lt; m 0))</tt></p>
<p>where the call to <tt>number?</tt> guards the calls to <tt>&lt;=</tt> and <tt>&lt;</tt>. This will protect <tt>&lt;=</tt> and <tt>&lt;</tt> from ever receiving true as an argument.</p>
</td>
</tr>
<tr style="text-align: left; vertical-align: text-top;">
<td>
<p><strong>Compound</strong></p>
<ul>
<li><tt>Position</tt></li>
<li><tt>Firework</tt></li>
<li><tt>Ball</tt></li>
<li>cons</li>
<li>etc.</li>
</ul>
</td>
<td>
<p>Predicate from structure</p>
<ul>
<li><tt>(posn? x)</tt></li>
<li><tt>(firework? x)</tt></li>
<li><tt>(ball? x)</tt></li>
<li><tt>(cons? x)</tt> (often just else)</li>
<li>etc.</li>
</ul>
</td>
<td>
<p>All selectors.</p>
<ul>
<li><tt>(... (posn-x x) (posn-y x))</tt></li>
<li><tt>(... (firework-y x) (firework-color x))</tt></li>
<li><tt>(... (ball-x x) (ball-dx x))</tt></li>
<li><tt>(... (first x) (rest x))</tt></li>
<li>etc.</li>
</ul>
<br>
<p>Then consider the result type of each selector call and wrap the accessor expression appropriately using the table with that type. So for example, if after adding all the selectors you have:</p>
<p><tt>(... (game-ball g) ;produces Ball</tt><br> <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(game-paddle g)) ;produces Paddle</tt></p>
<p>Then, because both Ball and Paddle are non-primitive types (types that you yourself defined in a data definition) the reference rule (immediately below) says that you should add calls to those types' template functions as follows:</p>
<p><tt> (... (fn-for-ball (game-ball g))</tt><br> <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(fn-for-paddle (game-paddle g)))</tt></p>
</td>
</tr>
<tr style="text-align: left; vertical-align: text-top;">
<td>
<p><strong>Other Non-Primitive Type Reference</strong></p>
</td>
<td>
<p>Predicate, usually from structure definition</p>
<ul>
<li><tt>(firework? x)</tt></li>
<li><tt>(person? x)</tt></li>
</ul>
</td>
<td>
<p>Call to other type's template function</p>
<ul>
<li><tt>(fn-for-firework x)</tt></li>
<li><tt>(fn-for-person x)</tt></li>
</ul>
</td>
</tr>
<tr style="text-align: left; vertical-align: text-top;">
<td>
<p><strong>Self Reference</strong></p>
</td>
<td></td>
<td>
<p>Form natural recursion with call to this type's template function:</p>
<ul>
<li><tt>(fn-for-los (rest los))</tt></li>
</ul>
</td>
</tr>
<tr style="text-align: left; vertical-align: text-top;">
<td>
<p><strong>Mutual Reference</strong></p>
<br>
<p>Note: form and group all templates in mutual reference cycle together.</p>
</td>
<td></td>
<td>
<p>Call to other type's template function:</p>
<p><tt>(fn-for-lod (dir-subdirs d)</tt><br> <tt>(fn-for-dir (first lod))</tt></p>
</td>
</tr>
</tbody>
</table>
<p></p>
<h4>Producing the Template for an Example One Of Type</h4>
<p>In many cases more than one of the above rules will apply to a single template. Consider this type comment:</p>
<p><tt>;; Clock is one of:</tt><br> <tt>;; - Natural</tt><br> <tt>;; - false</tt></p>
<p>and the step-by-step construction of the template for a function operating on <tt>Clock</tt>.</p>
<table title="Clock Template Derivation" border="none" cellpadding="10" style="border: 0px solid #000000; padding: 10px; text-align: left; vertical-align: top;">
<tbody>
<tr style="text-align: left; vertical-align: text-top;">
<td>
<pre>(define (fn-for-clock c)
  (cond [Q A]
        [Q A]))

;; Template rules used:
;;  - one of: 2 cases
      </pre>
</td>
<td style="width: 65%;"><tt>Clock</tt> is a one of type with two subclasses (one of which is not distinct making it an itemization). The one of rule tells us to use a <tt>cond</tt>. The <tt>cond</tt> needs one clause for each subclass of the itemization.</td>
</tr>
<tr style="text-align: left; vertical-align: text-top;">
<td>
<pre>(define (fn-for-clock c)
  (cond [(number? c) (... c)]
        [Q A]))

;; Template rules used:
;;  - one of: 2 cases
;;  - atomic non-distinct: Natural
      </pre>
</td>
<td>
<p>The <tt>cond</tt> questions need to identify each subclass of data. The <tt>cond</tt> answers need to follow templating rules for that subclasses data. In the first subclass, <tt>Natural</tt> is a non-distinct type; the <i>atomic non-distinct rule</i> tells us the question and answer as shown to the left.</p>
</td>
</tr>
<tr style="text-align: left; vertical-align: text-top;">
<td>
<pre>(define (fn-for-clock c)
  (cond [(number? c) (... c)]
        [else
         (...)]))

;; Template rules used:
;;  - one of: 2 cases
;;  - atomic non-distinct: Natural
;;  - atomic distinct: false
      </pre>
</td>
<td>
<p>In the second case <tt>false</tt> is an atomic distinct type, so the <i>atomic-distinct rule</i> gives us the question and answer. Since the second case is also the last case we can use <tt>else</tt> for the question.</p>
</td>
</tr>
</tbody>
</table>
<h4>Templates for Mutually Referential Types</h4>
<p>The previous example doesn't cover the <i>mutual-reference rule</i>, which says that in the case of mutually-referential data definitions, when you template one function in the mutual-reference cycle you should <strong>immediately template all the functions in the mutual-reference cycle</strong>. So, for example, given:</p>
<table title="Time Data Definition" border="none" cellpadding="10" style="border: 0px solid #000000; padding: 10px;">
<tbody>
<tr>
<td>
<pre>(define-struct person (name subs))
;; Person is (make-person String ListOfPerson)

;; ListOfPerson is one of:
;;  - empty
;;  - (cons Person ListOfPerson)</pre>
</td>
</tr>
</tbody>
</table>
<p>Then if you need a template for a function operating on a <tt>Person</tt> (or a function operating on a <tt>ListOfPerson</tt>) you should immediately write a template for both functions, resulting in something like this:</p>
<table title="Time Data Definition" border="none" cellpadding="10" style="border: 0px solid #000000; padding: 10px;">
<tbody>
<tr>
<td>
<pre>#;
(define (fn-for-person p)
  (... (person-name p)
       (fn-for-lop (person-subs p))))  ;mutual recursion from mutual-reference

#;
(define (fn-for-lop lop)
  (cond [(empty? lop) ...]
        [else
         (... (fn-for-person (first lop))  ;mutual recursion from mutual-reference
              (fn-for-lop (rest lop)))]))  ;natural recursion from self-reference</pre>
</td>
</tr>
</tbody>
</table>
<p>(Note that producing that template will also involve using the atomic-distinct, atomic, one-of and compound rules.)</p>
<p>As with self-reference, its a good idea to draw a mutual-reference line on the data definition and ensure you have corresponding mutual recursion lines in your templates.</p>
<h4>Testing</h4>
<p>The principles above can also be used to understand how many tests a data definition implies. Simply put, the set of tests/examples should cover all cases, call all helper functions, involve all selectors, and avoid duplicated values.</p>
<h4>Additional Design Rules for Helpers</h4>
<p>During coding three additional guidelines suggest situations under which a helper function should be added:</p>
<ol>
<li>Use a separate function for each difference between quantities in a problem.</li>
<li>If a subtask requires operating on arbitrary sized data a helper function must be used.</li>
<li>If a subtask involves special domain knowledge a helper function should be used.</li>
<li>In addition always keep the "one task per function" goal in mind. If part of a function you are designing seems to be a well-defined subtask put that into a helper function.</li>
</ol>
<p> <a name="2One-of"></a></p>
<hr><hr><hr>
<div align="right"><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#top">Back to Design Recipes Table</a></div>
<h2>Functions On 2 One-Of Data</h2>
<p>This page outlines the variations in the normal HtDF recipe when designing a function that consumes 2 data that have a one-of in their type comments. Examples of functions for which this applies include functions with the following signatures:</p>
<pre><code>;; ListOfString ListOfString -&gt; Boolean
;; ListOfString ListOfString -&gt; ListOfString<br>;; ListOfString BinaryTree -&gt; Boolean
;; ListOfNatural FamilyTree -&gt; ListOfString</code></pre>
<p>For the purpose of this explanation, assume that the goal is to design a function that consumes two <tt>ListOfString</tt> and produces true&nbsp;if the strings in the first list are equal to the corresponding strings in the second list. If that is true and the second list is longer than the first the function should produce&nbsp;true; if the second list is shorter it always produces false. <br> <br>The first three steps of the recipe - signature, purpose and stub - are unchanged.</p>
<pre><code>;; ListOfString ListOfString -&gt; Boolean<br>;; produce true if lsta is a prefix of lstb<br><br>(define (prefix=? lsta lstb) false)<br></code></pre>
<p><br>But at this point the next step is to form a&nbsp;<b>cross-product of type comments</b> table as follows. The row labels of the table are the cases of the one-of type comment for one argument (perhaps the first), and the column labels are the cases of the one-of type comment for the other argument.&nbsp;</p>
<pre><code>;; CROSS PRODUCT OF TYPE COMMENTS TABLE
;;
;;                                     lstb
;;                           empty           (cons String LOS)                
;;                                         |
;; l   empty                               |
;; s                         --------------------------------
;; t   (cons String LOS)                   |
;; a                                       |
</code></pre>
<p><br>In this case, where both arguments have 2 cases in their one-of type comments, the cross-product formed has 4 cells (2 * 2 = 4). The next step of the process is to use the cross product table to help form at least as many tests as there are cells. The upper left cell describes a scenario where both <tt>lsta</tt> and <tt>lstb</tt> are empty. The lower left cell is where <tt>lsta</tt> is non-empty but <tt>lstb</tt> is empty and so on. The lower right cell is where both lists are non-empty, and this case requires more than one test. So we end up with:&nbsp;</p>
<pre><code>(check-expect (prefix=? empty empty) true)
(check-expect (prefix=? empty (list "a" "b")) true)
(check-expect (prefix=? (list "a") empty) false)

(check-expect (prefix=? (list "a") (list "b")) false)
(check-expect (prefix=? (list "a") (list "a")) true)
(check-expect (prefix=? (list "a" "b") (list "a" "x")) false)
(check-expect (prefix=? (list "a" "b") (list "a" "b")) true)
</code></pre>
<p></p>
<div>We can now use the tests to help fill in the contents of the table cells, indicating what the function should do in each case. &nbsp;Any cell requiring a more complex code answer, such as the lower right one in this case, need not be coded perfectly with correct syntax, but should give a good idea of what the code must do.</div>
<pre><code>;; CROSS PRODUCT OF TYPE COMMENTS TABLE
;;
;;                                     lstb
;;                           empty           (cons String LOS)                
;;                                         |
;; l   empty                   true        |  true
;; s                         --------------------------------
;; t   (cons String LOS)       false       |  (and &lt;firsts are string=?&gt;
;; a                                       |       &lt;rests are prefix=?&gt;)
</code></pre>
<div>Now comes the most fun step. We look for a way to simplify the table by identifying cells that have the same answer. In this case the entire first row produces <tt>true</tt>, so we can simplify the table by combining the two cells in the first row into a single cell:</div>
<pre><code>;; CROSS PRODUCT OF TYPE COMMENTS TABLE
;;
;;                                     lstb
;;                           empty           (cons String LOS)                
;;                                         |
;; l   empty                              true
;; s                         --------------------------------
;; t   (cons String LOS)       false       |  (and &lt;firsts are string=?&gt;
;; a                                       |       &lt;rests are prefix=?&gt;)
</code></pre>
<div>Now we are almost done. The next step is to code the function body directly from the table. This in effect intertwines templating with coding of details. Because the simplified table has only three cells, we know that the body of the function will be a three case <tt>cond</tt>. For the first question we always pick the largest cell, in this case the top row. The question needs to be true of the entire combined cell, so in this case the question is <tt>(empty? lsta)</tt>. The answer in this case is just <tt>true</tt>.</div>
<div>For the next case of the <tt>cond</tt> we pick the lower left cell. At this point, we know that the top row has been handled, so we only need a question that distinguishes the remaining cells apart. In this case <tt>(empty? lstb)</tt> distinguishes the lower left from the lower right cell. The answer in this case is <tt>false</tt>.</div>
<div>In larger tables this process continues until you get to the last cell, at which point the question can be <tt>else</tt>.</div>
<div>In cells that involve natural recursion, the natural recursion can be formed by applying the normal rules for handling self-reference. In this case the template for the <tt>cond</tt> answer in the third <tt>cond</tt> case is:</div>
<pre><code>              (... (first lsta)
                   (first lstb)
                   (prefix=? (rest lsta) ...)
                   (prefix=? ... (rest lstb)))
</code></pre>
<div>After filling that in we end up with:</div>
<pre><code>(define (prefix=? lsta lstb)
  (cond [(empty? lsta) true]
        [(empty? lstb) false]
        [else
         (and (string=? (first lsta) (first lstb))
              (prefix=? (rest lsta)
                        (rest lstb)))]))
</code></pre>
<div>In general, when designing a function on 2 one of data it is a good idea to include the cross-product table in the design.</div>
<p><a name="FuncComp"></a></p>
<hr><hr><hr>
<div align="right"><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#top">Back to Design Recipes Table</a></div>
<h2>Function Composition</h2>
<p>Use function composition when a function must perform two or more distinct and complete operations on the consumed data. For example:</p>
<ul>
<li>A function that must sort and layout a list of images. First it must sort the complete list and then lay it out. It cannot sort and layout each image one at a time.</li>
<li>A function that must advance a list of raindrops and then remove the ones that have left the screen. First it must advance all the drops and then remove the ones that have advanced too far. (With difficulty this could be done in a single pass through the list of drops, but it is much more cumbersome to do that way.)</li>
</ul>
<p>When using function composition the normal template for the function is discarded, and the body of the function has two or more function compositions. So in the case of <tt>arrange-images</tt> the function design would look like this:</p>
<pre>;; ListOfImage -&gt; Image
;; arrange images left to right in increasing order of size
(check-expect (arrange-images (list I1 I3 I2))
              (beside I1 I2 I3 BLANK))

(define (arrange-images loi)
  (layout-images (sort-images loi)))
</pre>
<p>Which we read as saying "first sort the images, and then layout the sorted list". At the point this is written wish list entries would be created for <tt>layout-images</tt> and <tt>sort-images</tt> unless those functions already existed.</p>
<p>Tests for a function that uses function composition should be selected to ensure that the function is calling all the appropriate functions and composing them properly. For example, assuming that images <tt>I1</tt>, <tt>I2</tt> and <tt>I3</tt> are in increasing order of size, then this test alone would not be adequate:</p>
<pre>(check-expect (arrange-images (list I1 I2 I3))
              (beside I1 I2 I3 BLANK))
</pre>
<p>Because a faulty implementation of <tt>arrange-images</tt> that just calls <tt>layout-images</tt> would pass. Instead a test like the original one above is needed, to ensure that both <tt>sort-images</tt> and <tt>layout-images</tt> are called. But note that the tests for arrange-images do not themselves need to fully test both composed functions. They only need to test the composition. That is why <tt>arrange-images</tt> does not absolutely have to have a base case test. (Although it wouldn't hurt it to have one.)</p>
<p><!----------------------------------------------------------> <a name="Backtrack"></a></p>
<hr><hr><hr>
<div align="right"><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#top">Back to Design Recipes Table</a></div>
<h2>Backtracking Search</h2>
<p>The template for backtracking is:</p>
<pre>(define (fn-for-x x)
  (... (fn-for-lox (x-subs x))))        

(define (fn-for-lox lox)
  (cond [(empty? lox) false]
        [else
          (if (not (false? (fn-for-x (first lox))))  ;is first child successful?
              (fn-for-x (first lox))               <b></b><b></b><b></b>  ;if so produce that
              (fn-for-lox (rest lox)))]))          <b></b><b></b>  ;or try rest of children

    

</pre>
<p>Note that this template incorporates the template for an n-ary tee, where the tree nodes have type x and x-subs produces the children of a tree node given the node. The backtracking works as commented above. Once we have local expressions we tend to write the backtracking search template as follows:</p>
<pre>(define (backtracking-fn x)
  (local [(define (fn-for-x x)
            (... (fn-for-lox (x-subs x))))

          (define (fn-for-lox lox)
            (cond [(empty? lox) false]
                  [else
                   (local [(define try (fn-for-x (first lox)))] ;try first child
                     (if (not (false? try))                     ;successful?
                         try                                    ;if so produce that
                         (fn-for-lox (rest lox))))]))]          ;or try rest of children

    (fn-for-x x)))</pre>
<p></p>
<p> <a name="GenRec"></a></p>
<hr><hr><hr>
<div align="right"><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#top">Back to Design Recipes Table</a></div>
<h2>Generative Recursion</h2>
<p>The template for generative recursion is:</p>
<pre>(define (genrec-fn d)
  (cond [(trivial? d) (trivial-answer d)]
        [else
         (... d 
              (genrec-fn (next-problem d)))]))

</pre>
<p><a name="Accumulators"></a></p>
<hr><hr><hr>
<div align="right"><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#top">Back to Design Recipes Table</a></div>
<h2>Accumulators</h2>
<p>There are three general ways to use an accumulator in a recursive function (or set of mutually recursive functions):</p>
<ol>
<li>To preserve context otherwise lost in structural recursion.</li>
<li>To make a function tail recursive by preserving a representation of the work done so far (aka a result-so-far accumulator).</li>
<li>To make a function tail recursive by preserving a representation of the work remaining to do (aka a worklist accumulator).</li>
</ol>
<p>The same basic recipe covers all three forms of accumulators. The main example shown here is a context preserving accumulator.&nbsp;</p>
<p><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#work%20list%20accumulators"> </a> <a name="context"></a></p>
<h3>The basic recipe and context preserving accumulators.</h3>
<h4>Signature, purpose, stub and examples</h4>
<p>Design of the function begins normally, with signature, purpose, stub and examples.</p>
<pre><code>;; (listof X) -&gt; (listof X)<br>;; produce list formed by keeping the 1st, 3rd, 5th and so on elements of lox<br>(check-expect (skip1 (list "a" "b" "c" "d")) (list "a" "c"))<br>(check-expect (skip1 (list 0 1 2 3 4)) (list 0 2 4))<br><br>(define (skip1 lox) empty) ;stub</code></pre>
<h4>Templating</h4>
<p>The template step is a 3 part process. The first step is to template normally according to the rules for structural recursion, i.e. template according to the (listof X) parameter.</p>
<pre><code>(define (skip1 lox)
  (cond [(empty? lox) (...)]
        [else
         (... (first lox)
              (skip1 (rest lox)))]))</code></pre>
<p>The next step is to encapsulate that function in an outer function and local. As part of this step give the outer function parameter a different name than the inner function parameter. Note that if you are working with multiple mutually recursive functions they call get wrapped in a single outer function.</p>
<pre><code>(define (skip1 lox0)
  (local [(define (skip1 lox)
            (cond [(empty? lox) (...)]
                  [else
                   (... (first lox)
                        (skip1 (rest lox)))]))]
    
    (skip1 lox0)))</code></pre>
<p>Now add the accumulator parameter to the inner function. In addition, add ... or more substantial template expressions in each place that calls the inner function. During this step treat the accumulator parameter as atomic.</p>
<pre><code>(define (skip1 lox0)
  (local [(define (skip1 lox acc)
            (cond [(empty? lox) (... acc)]
                  [else
                   (... acc
                        (first lox)
                        (skip1 (rest lox)
                               (... acc (first lox))))]))]
    
    (skip1 lox0 ...)))</code></pre>
<h4>Accumulator type, invariant and examples</h4>
<p>The next step is to work out what information the accumulator will represent and how it will do that. Will the accumulator serve to represent some context that would otherwise be lost to structural recursion? Or, to support tail recursion will it represent some form of result so far? Or will it represent a work list of some sort. In many cases this is clear before reaching this stage of the design process. In other cases examples can be used to work this out. But in all cases examples are useful to work out exactly how the accumulator will represent the information. <br><br>In this case we need to know, in each recursive call to the inner function, whether the current first item in the list should be kept or skipped. There are many ways to represent this, but one simple way is to use a natural that represents how far into the original list (lox0) we have traveled. If we assume the call to the top-level definition of skip1 is (skip1 (list 0 1 2 3 4)), then the progression of calls to the internal skip1 would be as follows: <code></code></p>
<pre><code>(skip1 (list 0 1 2 3 4) 1)       the 0 is the 1st element of lox0 (using 1 based indexing)
(skip1 (list   1 2 3 4) 2)       the 1 is the 2nd element
(skip1 (list     2 3 4) 3)       the 2 is the 3rd 
(skip1 (list       3 4) 4)       the 3 is the 4th
(skip1 (list         4) 5)       the 4 is the 5th
(skip1 (list          ) 6)</code></pre>
<p>Note that the accumulator value is not constant, but it always represents the position of the current (first lox) in the original list lox0. (You can see here why we renamed the parameter to the outer function, it makes it easier to describe the relation between the original value lox0 and the value in each recursive call lox.) <br><br>These examples of the progression of calls to the internal recursive function(s) allow us to work out clearly the accumulator type, as well as its <i>invariant</i>, which describes what is constant about the accumulator as it changes in other words, what property it always represents. In this case the type is Natural, and the invariant is the 1 based index of (first lox) in lox0. So when the accumulator is an odd number we will keep (first lox) in the result, when it is even we will skip (first lox).</p>
<pre><code>(define (skip2 lox0)
  ;; acc is Natural; how many elements of lox to keep before next skip
  ;; (skip2 (list 0 1 2 3 4) 1)
  ;; (skip2 (list   1 2 3 4) 0)
  ;; (skip2 (list     2 3 4) 1)
  ;; (skip2 (list       3 4) 0)
  ;; (skip2 (list         4) 1)
  ;; (skip2 (list          ) 
  (local [(define (skip2 lox acc)
            (cond [(empty? lox) (... acc)]
                  [else
                   (... acc
                        (first lox)
                        (skip2 (rest lox)
                               (... acc (first lox))))]))]
    
    (skip2 lox0 ...)))</code></pre>
<h4>Complete the code</h4>
<p>At this point the function definition can be completed by using the signature, purpose, examples, accumulator type, invariant and examples to fill in the details. When doing so, note three distinct aspects of coding with the accumulator invariant. <i>Initializing</i> the accumulator happens in the trampoline, and involves providing an initial value of the accumulator that satisfies the invariant. <i>Exploiting</i> the invariant involves counting on the accumulator to always represent what the accumulator describes. <i>Preserving</i> the invariant happens in recursive calls to the function where a (possibly) new value is provided for the accumulator argument. Preserving the invariant means making sure that the value provided in the recursive call satisfies the invariant.<code></code></p>
<pre>(define (skip1 lox0)
  ;; acc is Natural; 1 based index of (first lox) in lox0
  ;; (skip1 (list 0 1 2 3 4) 1)    ;0 should be kept
  ;; (skip1 (list   1 2 3 4) 2)    ;1 should be skipped
  ;; (skip1 (list     2 3 4) 3)    ;0 should be kept
  ;; (skip1 (list       3 4) 4)    ;1 should be skipped
  ;; (skip1 (list         4) 5)    ;0 should be kept
  ;; (skip1 (list          ) 6)
  (local [(define (skip1 lox acc)
            (cond [(empty? lox) empty]
                  [else
                   (if (even? acc)
                       (skip1 (rest lox) (add1 acc))
                       (cons (first lox)
                             (skip1 (rest lox) (add1 acc))))]))]
    
    (skip1 lox0 1)))</pre>
<h3><br class="Apple-interchange-newline">Tail Recursion</h3>
<p><span style="font-size: 1em; line-height: 1.6em;">To make the function tail recursive, all recursive calls must be in tail position. For functions that operate on flat structures (data that has only one reference cycle), this can be accomplished by using an accumulator to represent build up information about the final result through the series of recursive calls. &nbsp;We often name these accumulators rsf but it is worth noting that some functions require more than one result so far accumulator (see average).</span></p>
<p>Making functions that operate on data with more than one cycle in the graph (such as arbitrary-arity trees) usually requires the use of an accumulator to build up the data that still remains to be operated on. This is a worklist accumulator, often called todo.</p>
<hr><hr>
<div align="right"><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#top">Back to Design Recipes Table</a></div>
<a name="TempBlend"></a>
<h2>Template Blending</h2>
<p>To understand template blending its important to understand that templates are what we know about the core of a function (or set of functions) before we get to the details. Data driven (or structural recursion) templates are that, backtracking templates are that, and generative recursion templates are that.<i></i></p>
<p>In some cases we know more than one thing about the core structure of a function (or set of functions). In the <a href="https://s3.amazonaws.com/edx-course-spdx-kiczales/HTC/sudoku-starter.rkt" target="[object Object]">sudoku-solver</a>&nbsp;for example&nbsp;three different templates apply to the solve functions.</p>
<ul>
<li><b>arbitrary-arity tree</b> - we consider each board to have a set of next boards formed by filling the first empty cell with the numbers from 1 - 9. So this forms an arbitrary-arity tree (the arity is actually [0, 9]).</li>
<li><b>generative recursion</b> - while each board has a set of next boards that set is included in the representation of the board. Instead those next boards have to be generated. So we have a generated arbitrary-arity tree.</li>
<li><b>backtracking search</b> - in addition we need to do a backtracking search over the arbitrary-arity tree.</li>
</ul>
<p>In template blending we take multiple templates that contribute to the structure of a function (or functions) and combine them together.&nbsp;</p>
<p>We have the following for the <tt>solve</tt> function:</p>
<pre>;; Board -&gt; Board or false

;; produce a solution for bd; or false if bd is unsolvable

;; Assume: bd is valid

(check-expect (solve BD4) BD4s)

(check-expect (solve BD5) BD5s)

(check-expect (solve BD7) false)



(define (solve bd) false) ;stub

</pre>
<p></p>
<p>Now let's start with the template for arbitrary-arity tree. Remember that the template for an arbitrary-arity tree involves a mutual recursion. In this case, we would have a function that consumes Board (ie. <tt>solve--bd</tt>) and calls another function (ie. <tt>solve--lobd</tt>) that does something to the (listof Board) that is supposed to come with the Board (a Board doesn't actually come with a (listof Board) but we will deal with it using generative recursion later). In order to complete the mutual recursion, we need to call <tt>solve--bd</tt> inside the function <tt>solve--lobd</tt>. So now we have the following template:</p>
<pre>(define (solve bd)

  (local [(define (solve--bd bd)

            (... (solve--lobd (bd-subs bd))))

          

          (define (solve--lobd lobd)

            (cond [(empty? lobd) (...)]

                  [else

                   (... (solve--bd (first lobd))

                        (solve--lobd (rest lobd)))]))]

    

    (solve--bd bd)))

</pre>
<p>Keep in mind that the <tt>bd-subs</tt> selector doesn't exist because Board does not keep a (listof Board). We need to deal with it using generative recursion.</p>
<p></p>
<p>Let's blend this template with the generative recursion template. The generative recursion template looks like this:</p>
<pre>(define (genrec-fn d)

  (if (trivial? d)

      (trivial-answer d)

      (... d 

           (genrec-fn (next-problem d)))))

</pre>
<p>Since we know that <tt>solve--bd</tt> must generate a (listof Board) to pass to <tt>solve--lobd</tt>, we must blend the template into the <tt>solve--bd</tt> function. Then we would have (the red part was changed):</p>
<pre>(define (solve bd)

  (local [(define (solve--bd bd)

            <span style="color:FF0000">(if (solved? bd)

                bd

                (solve--lobd (next-boards bd)))</span>)

          

          (define (solve--lobd lobd)

            (cond [(empty? lobd) (...)]

                  [else

                   (... (solve--bd (first lobd))

                        (solve--lobd (rest lobd)))]))]

    

    (solve--bd bd)))

</pre>
<p>Notice the following:</p>
<ul>
<li><tt>bd-subs</tt> is changed to <tt>next-boards</tt> because it suggests that we are generating new boards.</li>
<li><tt>trivial?</tt> from the generative recursion template is changed to <tt>solved?</tt> because the trivial case (ie. the case where the recursion should stop at) is when the board is solved.</li>
<li><tt>trivial-answer</tt> from the generative recursion template is omitted because in this case, the trivial answer is the board that is solved, which is represented by <tt>bd</tt>.</li>
</ul>
<p></p>
<p>Lastly, we need to blend in the template for backtracking search. The template is:</p>
<pre>(define (backtracking-fn x)

  (local [(define (fn-for-x x)

            (... (fn-for-lox (x-subs x))))

          

          (define (fn-for-lox lox)

            (cond [(empty? lox) false]

                  [else

                   (local [(define try (fn-for-x (first lox)))] ;try first child

                     (if (not (false? try))                     ;successful?

                         try                                    ;if so produce that

                         (fn-for-lox (rest lox))))]))]          ;or try rest of children

    

    (fn-for-x x)))

</pre>
<p>We need to blend the template for <tt>fn-for-lox</tt> from above into the function <tt>solve-lobd</tt>. The changes are in red:</p>
<pre>(define (solve bd)

  (local [(define (solve--bd bd)

            (if (solved? bd)

                bd

                (solve--lobd (next-boards bd))))

          

          (define (solve--lobd lobd)

            (cond [(empty? lobd) <span style="color:FF0000">false</span>]

                  [else

                   <span style="color:FF0000">(local [(define try (solve--bd (first lobd)))]

                        (if (not (false? try))

                            try

                            (solve--lobd (rest lobd))))</span>]))]

    

    (solve--bd bd)))

</pre>
<p>The template allows the <tt>solve--lobd</tt> function to do the following:</p>
<ul>
<li>If we have reached the end of the (listof Board) (ie. if <tt>lobd</tt> is empty - the base case), then produce false, meaning that the (listof Board) has no solution.</li>
<li>If the (listof Board) is not empty, then try to solve the first board in the list (ie. <tt>(solve--bd (first lobd))</tt>).</li>
<li>If the outcome of the try is not false (ie. <tt>(not (false? try))</tt>), then produce that outcome because it means the board has been solved.</li>
<li>If the outcome is false, then recurse and try the rest of the list (ie. <tt>(solve--lobd (rest lobd))</tt>).</li>
</ul>
<p></p>
<p>Now we have the complete template below. The arbitrary-arity tree template is underlined in blue. The generative recursion template is in red. And the backtracking search template is in green.</p>
<pre>(define (solve bd)

  (local [<span style="border-bottom: thin solid #0000FF;">(define (solve--bd bd)</span>

            <span style="color:FF0000">(if <i>(solved? bd)</i>

                bd

                <span style="border-bottom: thin solid #0000FF;">(solve--lobd <i>(next-boards bd)</i>)</span>)</span>)

          

          <span style="border-bottom: thin solid #0000FF;">(define (solve--lobd lobd)</span>

            <span style="border-bottom: thin solid #0000FF;">(cond [(empty? lobd)</span> <span style="color:00FF00">false</span>]

                  <span style="border-bottom: thin solid #0000FF;">[else</span>

                   <span style="color:00FF00">(local [(define try (solve--bd (first lobd)))]

                        (if (not (false? try))

                            try

                            <span style="border-bottom: thin solid #0000FF;">(solve--lobd (rest lobd))</span>))</span>]))]

    

    (solve--bd bd)))

</pre>
<p>The next step to completing the function is to implement the two helper functions - <tt>solved?</tt> and <tt>next-boards</tt>.</p>
<p> <a name="Examples"></a></p>
<hr><hr><hr>
<div align="right"><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#top">Back to Design Recipes Table</a></div>
<h2>Abstraction From Examples</h2>
<p>We design abstract functions in the opposite order of the normal HtDF recipe. We always want to do the easiest thing first, and with the abstract function design processes getting the working function definition is the easiest thing to do. In fact going through the recipe in the opposite order exactly goes from easiest to hardest.</p>
<ol>
<li>Identify two or more fragments of highly repetitive code. In general these can be expressions that appear within functions, or they can be entire functions. The rest of this recipe is tailored to the case where entire functions have been chosen.</li>
<li>Arrange the two functions so that it is easy to see them at the same time.</li>
<li>Identify one or more points where the functions differ (points of variance). Do not count differences in function names or parameter names as points of variance.</li>
<li>Copy one function definition to make new one
<ul>
<li>give the new function a more general name</li>
<li>add a new parameter for each point of variance</li>
<li>update any recursive calls to use new name and add new parameters in recursive calls</li>
<li>use the appropriate new parameter at each point of variability</li>
<li>rename other parameters to be more abstract (lon to lox for example)</li>
</ul>
</li>
<li>Adapt tests from original functions to new abstract function
<ul>
<li>be sure to test variability</li>
<li>attempt to test behavior of the abstract function beyond that exercised by the two examples</li>
</ul>
</li>
<li>Develop an appropriately abstract purpose based on the examples.</li>
<li>Develop an appropriate signature for the abstract function; in many cases the signature will include type parameters.</li>
<li>Rewrite the body of the two original functions to call the abstract function.</li>
</ol>
<p> <a name="Type"></a></p>
<hr><hr><hr>
<div align="right"><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#top">Back to Design Recipes Table</a></div>
<h2>Abstraction From Type Comments</h2>
<p>We design abstract functions in the opposite order of the normal HtDF recipe. We always want to do the easiest thing first, and with the abstract function design processes getting the working function definition is the easiest thing to do. In fact going through the recipe in the opposite order exactly goes from easiest to hardest.</p>
<ol>
<li>if there are templates for mutually recursive functions first encapsulate them in a single template with local</li>
<li>replace each ... in the templates with a new parameter; for (...) remove the parens</li>
<li>develop examples (check-expects)</li>
<li>develop abstract purpose from examples</li>
<li>develop abstract signature from concrete examples</li>
</ol>
<p></p>
<p>Let's now go through generating a fold function for <tt>(listof X)</tt>. Here is the type comment for <tt>(listof X)</tt>:</p>
<pre>;; ListOfX is one of:

;; - empty

;; - (cons X ListOfX)

</pre>
<p>We can generate the following template based on this type comment:</p>
<pre>(define (fn-for-lox lox)

  (cond [(empty? lox) (...)]

        [else

         (... (first lox)

              (fn-for-lox (rest lox)))]))

</pre>
<p>Since there is no mutual recursion in the template, we can skip step 1. According to step 2, we need to replace each <tt>...</tt> with a new parameter. We also need to rename the function to <tt>fold</tt>. Here is what we would have after step 2:</p>
<pre>(define (fold fn b lox)

  (cond [(empty? lox) b]

        [else

         (fn (first lox)

             (fold fn b (rest lox)))]))

</pre>
<p>Note that we called the <tt>...</tt> in place of the base case is named to <tt>b</tt>, and the <tt>...</tt> in place of the function is named to <tt>fn</tt>.</p>
<p>For step 3, we should write some examples to test for the function and also find out what we can do with the fold function:</p>
<pre>; sum of the numbers in the list

(check-expect (fold + 0 (list 1 2 3)) 6)



; product of the numbers in the list

(check-expect (fold * 1 (list 1 2 3)) 6)



; append the strings in the list

(check-expect (fold string-append "" (list "a" "bc" "def")) "abcdef")



; sum of the areas of the images in the list

(check-expect (local [(define (total-area i a)

                        (+ (* (image-width i)

                              (image-height i))

                           a))]

                (fold total-area 0 (list (rectangle 20 40 "solid" "red")

                                         (right-triangle 10 20 "solid" "red")

                                         (circle 20 "solid" "red"))))

              (+ (* 20 40) (* 10 20) (* 40 40)))

</pre>
<p>Step 4 requires us to develop an abstract purpose from the examples. In this example, we can just write:</p>
<pre>;; the abstract fold function for (listof X)

</pre>
<p>In the last step, we need to determine the abstract signature from the examples that we have written. The more diverse the examples that we have, the easier it is to come up with the correct signature.</p>
<p><br> From the function defintion for <tt>fold</tt>, we can first reason the following for the signature of <tt>fold</tt>:</p>
<ul>
<li>the parameter <tt>lox</tt> is of the type (listof X)</li>
<li>the parameter <tt>b</tt> is of the same type as what the <tt>fold</tt> function produces because it is the base case</li>
<li>the predicate function <tt>fn</tt> takes in two arguments</li>
<li>the predicate function <tt>fn</tt> produces the same type as what the <tt>fold</tt> function produces</li>
<li>the first parameter for the predicate function <tt>fn</tt> is of the type X</li>
<li>the second parameter for the predicate function <tt>fn</tt> is of the same type as what the <tt>fold</tt> function produces</li>
</ul>
<p>From the above reasonings, we can narrow the signature down to:</p>
<pre>(X ??? -&gt; ???) ??? (listof X) -&gt; ???

</pre>
<p>Note that all of the <tt>???</tt> are of the same type according to the above reasoning. Now the question is whether <tt>???</tt> has to be the same type as X or can be something else (ie. Y). <br> From the fourth example in step 3, we can see that the signature for the predicate function <tt>total-area</tt> is:</p>
<pre>Image Number -&gt; Number

</pre>
<p>In this case, the X is Image and the <tt>???</tt> is Number. This is an example of <tt>???</tt> being something different than X. Therefore, we can conclude that the abstract signature for <tt>fold</tt> is:</p>
<pre>(X Y -&gt; Y) Y (listof X) -&gt; Y

</pre>
<p><a name="Using"></a></p>
<hr><hr><hr>
<div align="right"><a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#top">Back to Design Recipes Table</a></div>
<h2>Using Abstract Functions</h2>
<p>The template for using a built-in abstract function like filter is:</p>
<pre>;; (listof Number) -&gt; (listof Number)

;; produce only positive? elements of lon

;; tests elided

;; template as call to abstract function
(define (only-positive lon)
  (filter ... lon))
</pre>
<p>Now we note that the type of lon is (listof Number); and the signature of filter is <tt>(X -&gt; Boolean) (listof X) -&gt; (listof X)</tt>. This means that that signature of the function passed to filter is <tt>(Number -&gt; Boolean)</tt> so we can further decorate the template as follows:</p>
<pre>(define (only-positive lon)

          ;(Number -&gt; Boolean)

  (filter ...                   lon))
</pre>
<p> as a note to ourselves about the signature of the function we replace ... with. 
</p><p></p>
</div>
</div>

      </div>
    </section>
</section></main>

      
    </div>

        







<footer id="footer-edx-v3" role="contentinfo" aria-label="rodapé da página">

<div class="container">
    <div class="row main-row"><!-- row -->
        <div class="col-xl-2 col-lg-12 col-md-2 col-sm-8 col-xs-10 column-1 flex-column column-styles">
            <div class="row">
                <div class="col-12 column-2-2 column-styles">
                <div class="edx-footer-logo">
                    <a href="https://www.edx.org/">
                        <img alt="edX Home Page" src="./Design Recipes_files/logo-trademark.svg">
                    </a>
                </div>


                </div>
            </div>

        </div>
        <div class="col-xl-6 col-lg-8 col-md-9 col-sm-5 col-xs-12 column-2 flex-column column-styles">
             <div class="row full-height">

                 <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 column-2-1 col-xs-12 first-div-border column-styles ">
                    <div class="row full-height">
                        <div class="ml-xl-0 col-lg-10 ml-lg-auto col-md-12 column-2-2 col-sm-10 full-height column-styles">
                              <h2 class="heading">edX</h2>
                                  <ul class="list-unstyled clear-margins  ">
                                      <li>
                                          <a href="https://www.edx.org/about-us">Sobre</a>
                                      </li>
                                      <li>
                                          <a href="https://business.edx.org/?utm_campaign=edX.org+Referral&amp;utm_medium=Footer&amp;utm_source=edX.org">edX for Business</a>
                                      </li>
                                  </ul>
                        </div>
                    </div>
                 </div>
                 <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-xs-12 column-2-1 second-div-border column-styles ">
                        <div class="row full-height">
                            <div class="col-lg-12 col-md-12 col-sm-10 column-2-2 full-height column-styles">
                                  <h2 class="heading">Legal</h2>
                                    <ul class="list-unstyled clear-margins  ">
                                        <li>
                                          <a href="https://www.edx.org/edx-terms-service">Termos de Serviço e Código de Honra</a>
                                        </li>
                                        <li>
                                          <a href="https://www.edx.org/edx-privacy-policy">Política de Privacidade</a>
                                        </li>
                                        <li>
                                          <a href="https://www.edx.org/edx-privacy-policy/cookies">Cookie Policy</a>
                                        </li>
                                        <li>
                                          <a href="https://www.edx.org/accessibility">Política de Assessibilidade</a>
                                        </li>
                                        <li>
                                          <a href="https://www.edx.org/?opendns=true">Do Not Sell My Personal Information</a>
                                        </li>
                                    </ul>
                            </div>
                          </div>
                </div>
                 <div class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-xs-12 column-2-1 third-div-border column-styles">
                      <div class="row full-height">
                        <div class="col-lg-12 col-md-12 col-sm-10 full-height column-2-2 column-styles">
                              <h2 class="heading">Connect</h2>
                              <ul class="list-unstyled clear-margins  ">
                                <li>
                                  <a href="https://www.edx.org/blog">Blog</a>
                                </li>
                                <li>
                                  <a href="https://courses.edx.org/support/contact_us">Contate-nos</a>
                                </li>
                                <li>
                                  <a href="https://support.edx.org/">Central de ajuda</a>
                                </li>
                                <li>
                                  <a href="https://www.edx.org/policy/security">Security</a>
                                </li>
                              </ul>
                        </div>
                      </div>
                 </div>





            </div>
        </div>
        <div class="col-xl-4 col-lg-4 col-md-9 ml-md-auto col-sm-7 column-3 flex-column fourth-div-border column-styles">
                <div class="row">
                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 column-3-1 social-app-links-div column-styles ml-auto">
                      <div class="row">
                        <div class="col-lg-12 col-md-12 column-3-2 column-styles">
                             <ul class="list-inline list-unstyled social">
                                    <li>
                                        <a href="http://www.facebook.com/EdxOnline" class="social-links external" title="Facebook" rel="noreferrer">
                                            <span class="icon fa fa-facebook-square" aria-hidden="true"></span>
                                            <span class="sr">Like edX on Facebook</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://twitter.com/edXOnline" class="social-links external" title="Twitter" rel="noreferrer">
                                            <span class="icon fa fa-twitter-square" aria-hidden="true"></span>
                                            <span class="sr">Follow edX on Twitter</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="http://www.linkedin.com/company/edx" class="social-links external" title="LinkedIn" rel="noreferrer">
                                            <span class="icon fa fa-linkedin-square" aria-hidden="true"></span>
                                            <span class="sr">Follow edX on LinkedIn</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://courses.edx.org/courses/course-v1:UBCx+HtC1x+2T2017/77860a93562d40bda45e452ea064998b/#" class="social-links external" title="Instagram" rel="noreferrer">
                                            <span class="icon fa fa-instagram" aria-hidden="true"></span>
                                            <span class="sr">Follow edX on Instagram</span>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="http://www.reddit.com/r/edx" class="social-links external" title="Reddit" rel="noreferrer">
                                            <span class="icon fa fa-reddit-square" aria-hidden="true"></span>
                                            <span class="sr">Subscribe to the edX subreddit</span>
                                        </a>
                                    </li>
                             </ul>
                            <ul class="list-inline list-unstyled app-links">
                                    <li>
                                        <a href="https://itunes.apple.com/us/app/edx/id945480667?mt=8" class="app-link external">
                                            <img alt="Baixar o aplicativo móvel edX em Apple App Store" src="./Design Recipes_files/app_store_badge_135x40.d0558d910630.svg">
                                        </a>
                                    </li>
                                    <li>
                                        <a href="https://play.google.com/store/apps/details?id=org.edx.mobile" class="app-link external">
                                            <img alt="Baixar o aplicativo móvel edX em Google Play" src="./Design Recipes_files/google_play_badge_45.6ea466e328da.png">
                                        </a>
                                    </li>
                            </ul>
                              <!--"EdX, Open edX, and MicroMasters are trademarks of edX Inc. registered in the U.S. and other countries-->
                              <p class="copyright">© 2023 edX LLC. All rights reserved.
                                  <br>
                                     | 深圳市恒宇博科技有限公司
                                    <a href="https://beian.miit.gov.cn/">
                                         粤ICP备17044299号-2
                                    </a>
                              </p>
                        </div>
                  </div>
                </div>

                </div>

        </div>
    </div>




</div>

</footer>



  

    <link href="./Design Recipes_files/lms-footer-edx.f0a30390fbe1.css" rel="stylesheet" type="text/css">






  </div><iframe src="./Design Recipes_files/a1706490390.html" hidden="" tabindex="-1" title="Optimizely Internal Frame" height="0" width="0" style="display: none;"></iframe>

  





<script type="text/javascript">
    // Fast Preview was introduced in 2.5. However, it
    // causes undesirable flashing/font size changes when
    // MathJax is used for interactive preview (equation editor).
    // Setting processSectionDelay to 0 (see below) fully eliminates
    // fast preview, but to reduce confusion, we are also setting
    // the option as displayed in the context menu to false.
    // When upgrading to 2.6, check if this variable name changed.
    window.MathJax = {
      menuSettings: {CHTMLpreview: false}
    };
</script>

<script type="text/x-mathjax-config;executed=true">
  MathJax.Hub.Config({
    messageStyle: "none",
    tex2jax: {
      inlineMath: [
        ["\\(","\\)"],
        ['[mathjaxinline]','[/mathjaxinline]']
      ],
      displayMath: [
        ["\\[","\\]"],
        ['[mathjax]','[/mathjax]']
      ]
    }
  });
</script>
<script type="text/x-mathjax-config;executed=true">

  // In order to eliminate all flashing during interactive
  // preview, it is necessary to set processSectionDelay to 0
  // (remove delay between input and output phases). This
  // effectively disables fast preview, regardless of
  // the fast preview setting as shown in the context menu.
  MathJax.Hub.processSectionDelay = 0;

  MathJax.Hub.signal.Interest(function(message) {
    if(message[0] === "End Math") {
        set_mathjax_display_div_settings();
    }
  });
  function set_mathjax_display_div_settings() {
    $('.MathJax_Display').each(function( index ) {
      this.setAttribute('tabindex', '0');
      this.setAttribute('aria-live', 'off');
      this.removeAttribute('role');
      this.removeAttribute('aria-readonly');
    });
  }
</script>

<script type="text/javascript">
    // Activating Mathjax accessibility files
    window.MathJax = {
        menuSettings: {
            collapsible: true,
            autocollapse: false,
            explorer: true
        }
    };
</script>

<!-- This must appear after all mathjax-config blocks, so it is after the imports from the other templates.
     It can't be run through static.url because MathJax uses crazy url introspection to do lazy loading of
     MathJax extension libraries -->
<script type="text/javascript" src="./Design Recipes_files/MathJax.js.download"></script>

<script src="./Design Recipes_files/HtmlBlockPreview.fe1939ea1d16e65a284f.a9f37c076422.js.download" type="application/javascript"></script>
<script src="./Design Recipes_files/XModuleShim.492072f387765a08f2cc.18b73520ca00.js.download" type="application/javascript"></script>

  

  


    <!-- begin segment footer -->
    <script type="text/javascript">
        $(window).load(function() {
            analytics.identify(
                "52762663",
                {
                    email: "ahmbarreiros.cs@gmail.com",
                    username: "ahmbarreiros_cs\u002Di0q1d6"
                },
                {
                    integrations: {
                        // Disable MailChimp because we don't want to update the user's email
                        // and username in MailChimp on every page load. We only need to capture
                        // this data on registration/activation.
                        MailChimp: false
                    }
                }
            );
        });
    </script>
    <!-- end segment footer -->

  <script type="text/javascript" src="./Design Recipes_files/noreferrer.aa62a3e70ffa.js.download" charset="utf-8"></script>
  <script type="text/javascript" src="./Design Recipes_files/navigation.5a78fd05918f.js.download" charset="utf-8"></script>
  <script type="text/javascript" src="./Design Recipes_files/header.309a1243e175.js.download"></script>
  
  <script type="text/javascript" src="./Design Recipes_files/jquery_extend_patch.54dddef28d15.js.download"></script>
  <div id="lean_overlay"></div>





<div id="reader-feedback" class="sr" aria-live="polite"></div></body></html>